<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.1/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"luxiang.wiki","root":"/","images":"/images","scheme":"Mist","version":"8.0.2","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"æœç´¢...","empty":"æ²¡æœ‰æ‰¾åˆ°ä»»ä½•æœç´¢ç»“æœï¼š${query}","hits_time":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰","hits":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœ"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}};
  </script>

  <meta property="og:type" content="article">
<meta property="og:title" content="ã€Šé‡å­¦MySQLã€‹MySQLçš„å¯åŠ¨ä»¥åŠå¯åŠ¨å‚æ•°">
<meta property="og:url" content="http://luxiang.wiki/2020/11/17/MySQL/%E9%87%8D%E5%AD%A6MySQL/%E5%90%AF%E5%8A%A8Mysql/MySQL%E7%9A%84%E5%90%AF%E5%8A%A8%E4%BB%A5%E5%8F%8A%E5%90%AF%E5%8A%A8%E5%8F%82%E6%95%B0/index.html">
<meta property="og:site_name" content="æ´›é˜³åŸä¸Šçœ‹æ´›é˜³">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://files.codedog.link/blog/typecho/mysql.jpg">
<meta property="og:image" content="http://files.codedog.link/blog/typecho/mysql%E5%9B%BE%E4%BE%8B.jpg">
<meta property="article:published_time" content="2020-11-17T12:44:25.000Z">
<meta property="article:modified_time" content="2020-11-25T13:55:42.483Z">
<meta property="article:author" content="æ´›é˜³åŸä¸Šçœ‹æ´›é˜³">
<meta property="article:tag" content="MySQL">
<meta property="article:tag" content="é‡å­¦MySQL">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://files.codedog.link/blog/typecho/mysql.jpg">


<link rel="canonical" href="http://luxiang.wiki/2020/11/17/MySQL/%E9%87%8D%E5%AD%A6MySQL/%E5%90%AF%E5%8A%A8Mysql/MySQL%E7%9A%84%E5%90%AF%E5%8A%A8%E4%BB%A5%E5%8F%8A%E5%90%AF%E5%8A%A8%E5%8F%82%E6%95%B0/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>ã€Šé‡å­¦MySQLã€‹MySQLçš„å¯åŠ¨ä»¥åŠå¯åŠ¨å‚æ•° | æ´›é˜³åŸä¸Šçœ‹æ´›é˜³</title>
  


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?2f92e00905df3abe2e37be14a11ab83d";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>


<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">æ´›é˜³åŸä¸Šçœ‹æ´›é˜³</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>å…³äº</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>æœç´¢
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="æœç´¢..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <section class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#mysqld"><span class="nav-number">1.</span> <span class="nav-text">mysqld</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mysqld-safe"><span class="nav-number">2.</span> <span class="nav-text">mysqld_safe</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mysqld-multi"><span class="nav-number">3.</span> <span class="nav-text">mysqld_multi</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mysql-server"><span class="nav-number">4.</span> <span class="nav-text">mysql.server</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%AF%E5%8A%A8MySQL%E6%9C%8D%E5%8A%A1%E7%AB%AF"><span class="nav-number">5.</span> <span class="nav-text">å¯åŠ¨MySQLæœåŠ¡ç«¯</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%90%AF%E5%8A%A8%E5%8F%82%E6%95%B0"><span class="nav-number">5.1.</span> <span class="nav-text">å¯åŠ¨å‚æ•°</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%80%9A%E8%BF%87%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%90%AF%E5%8A%A8"><span class="nav-number">5.2.</span> <span class="nav-text">é€šè¿‡é…ç½®æ–‡ä»¶å¯åŠ¨</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Windows%E4%B8%8B%E7%9A%84%E8%B7%AF%E5%BE%84"><span class="nav-number">5.2.1.</span> <span class="nav-text">Windowsä¸‹çš„è·¯å¾„</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#MacOS%E4%B8%8B"><span class="nav-number">5.2.2.</span> <span class="nav-text">MacOSä¸‹</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%9A%84%E5%86%85%E5%AE%B9"><span class="nav-number">5.3.</span> <span class="nav-text">é…ç½®æ–‡ä»¶çš„å†…å®¹</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%8F%82%E8%80%83"><span class="nav-number">5.4.</span> <span class="nav-text">é…ç½®æ–‡ä»¶å‚è€ƒ</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%AF%E5%8A%A8MySQL%E5%AE%A2%E6%88%B7%E7%AB%AF"><span class="nav-number">6.</span> <span class="nav-text">å¯åŠ¨MySQLå®¢æˆ·ç«¯</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%92%8C%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%80%9A%E8%AE%AF"><span class="nav-number">7.</span> <span class="nav-text">å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨é€šè®¯</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%A4%84%E7%90%86%E5%AE%A2%E6%88%B7%E7%AB%AF%E7%9A%84%E6%B5%81%E7%A8%8B"><span class="nav-number">8.</span> <span class="nav-text">æœåŠ¡å™¨å¤„ç†å®¢æˆ·ç«¯çš„æµç¨‹</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E"><span class="nav-number">9.</span> <span class="nav-text">å­˜å‚¨å¼•æ“</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E9%80%89%E6%8B%A9%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E"><span class="nav-number">10.</span> <span class="nav-text">å¦‚ä½•é€‰æ‹©å­˜å‚¨å¼•æ“</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#InnoDB"><span class="nav-number">10.1.</span> <span class="nav-text">InnoDB</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#MyISAM"><span class="nav-number">10.2.</span> <span class="nav-text">MyISAM</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#MEMORY"><span class="nav-number">10.3.</span> <span class="nav-text">MEMORY</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E5%92%8C%E4%BF%AE%E6%94%B9%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E%E7%9A%84%E6%96%B9%E6%B3%95"><span class="nav-number">11.</span> <span class="nav-text">è®¾ç½®å’Œä¿®æ”¹å­˜å‚¨å¼•æ“çš„æ–¹æ³•</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%80%BB%E7%BB%93"><span class="nav-number">12.</span> <span class="nav-text">æ€»ç»“</span></a></li></ol></div>
        </section>
        <!--/noindex-->

        <section class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="æ´›é˜³åŸä¸Šçœ‹æ´›é˜³"
      src="/images/custom-logo.jpg">
  <p class="site-author-name" itemprop="name">æ´›é˜³åŸä¸Šçœ‹æ´›é˜³</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">48</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">33</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">20</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/BigNewbie" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;BigNewbie" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:1625966193@qq.com" title="E-Mail â†’ mailto:1625966193@qq.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



        </section>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">
      

      

  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://luxiang.wiki/2020/11/17/MySQL/%E9%87%8D%E5%AD%A6MySQL/%E5%90%AF%E5%8A%A8Mysql/MySQL%E7%9A%84%E5%90%AF%E5%8A%A8%E4%BB%A5%E5%8F%8A%E5%90%AF%E5%8A%A8%E5%8F%82%E6%95%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/custom-logo.jpg">
      <meta itemprop="name" content="æ´›é˜³åŸä¸Šçœ‹æ´›é˜³">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="æ´›é˜³åŸä¸Šçœ‹æ´›é˜³">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          ã€Šé‡å­¦MySQLã€‹MySQLçš„å¯åŠ¨ä»¥åŠå¯åŠ¨å‚æ•°
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2020-11-17 20:44:25" itemprop="dateCreated datePublished" datetime="2020-11-17T20:44:25+08:00">2020-11-17</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">æ›´æ–°äº</span>
        <time title="ä¿®æ”¹æ—¶é—´ï¼š2020-11-25 21:55:42" itemprop="dateModified" datetime="2020-11-25T21:55:42+08:00">2020-11-25</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/MySQL/" itemprop="url" rel="index"><span itemprop="name">MySQL</span></a>
        </span>
          ï¼Œ
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/MySQL/%E9%87%8D%E5%AD%A6MySQL/" itemprop="url" rel="index"><span itemprop="name">é‡å­¦MySQL</span></a>
        </span>
          ï¼Œ
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/MySQL/%E9%87%8D%E5%AD%A6MySQL/MySQL%E7%9A%84%E5%90%AF%E5%8A%A8%E4%BB%A5%E5%8F%8A%E5%90%AF%E5%8A%A8%E5%8F%82%E6%95%B0/" itemprop="url" rel="index"><span itemprop="name">MySQLçš„å¯åŠ¨ä»¥åŠå¯åŠ¨å‚æ•°</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p><img src="http://files.codedog.link/blog/typecho/mysql.jpg" alt="MySQL"></p>
<a id="more"></a>

<p><code>MySQL</code>çš„å®‰è£…ä»¥åŠç»“æŸï¼Œæ¥ä¸‹æ¥å°±è¦å¯åŠ¨<code>MySQL</code>äº†ï¼Œåœ¨å¯åŠ¨ä¹‹å‰ï¼Œå…ˆæ‰“å¼€å®‰è£…å¥½çš„<code>MySQL</code>ç›®å½•çœ‹ä¸€ä¸‹å…¶æœ‰å“ªäº›å¯è¿è¡Œçš„ç¨‹åºï¼Œåšä¸»ç”¨çš„æ˜¯<code>windows</code>æ“ä½œç³»ç»Ÿï¼Œæˆ‘çš„å®‰è£…ç›®å½•æ˜¯<code>C:\Program Files\MySQL\MySQL Server 5.7</code>ï¼Œå¦‚æœä½ çš„å’Œæˆ‘ä¸ä¸€æ ·ï¼Œå¯ä»¥æ‰“å¼€ä½ è‡ªå·±çš„ç›®å½•ã€‚</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">bin     # å­˜æ”¾å¯æ‰§è¡Œæ–‡ä»¶</span><br><span class="line">docs    # å­˜æ”¾ä¸€äº›æ–‡æ¡£</span><br><span class="line">include # å­˜æ”¾ä¸€äº›å¤´æ–‡ä»¶ï¼Œå¦‚ï¼šmysql.hã€mysql_ername.hç­‰ã€‚</span><br><span class="line">lib     # å­˜æ”¾ä¸€ç³»åˆ—åº“æ–‡ä»¶ã€‚</span><br><span class="line">share   # å­˜æ”¾å­—ç¬¦é›†ã€è¯­è¨€ç­‰ä¿¡æ¯ã€‚</span><br><span class="line">LICENSE # æ”¾åœ¨æ–‡æœ¬æ–‡æ¡£ä¸­æ‰“å¼€çœ‹æ˜¯å•¥ </span><br><span class="line">README  # æ”¾åœ¨æ–‡æœ¬æ–‡æ¡£ä¸­æ‰“å¼€çœ‹æ˜¯å•¥ </span><br></pre></td></tr></tbody></table></figure>
<p>ä¸Šé¢ä»¥åŠè¡¨æ˜äº†æ¯ä¸ªç›®å½•çš„ä½œç”¨ï¼Œæ—¢ç„¶è¦è¿è¡Œ<code>MySQL</code>ï¼Œå°±æ‰“å¼€<code>bin</code>ç›®å½•ï¼Œçœ‹çœ‹å®ƒä¸‹é¢æœ‰å­˜æ”¾ç€å“ªäº›å¯æ‰§è¡Œç¨‹åº:</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">innochecksum.exe                    # è„±æœºinnodbæ•°æ®æ–‡ä»¶æ ¡éªŒå’Œæ£€æŸ¥</span><br><span class="line">lz4_decompress.exe                  # ç”¨æ¥è§£å‹ç¼© mysqlpumpçš„LZ4å‹ç¼©è¾“å‡ºï¼ˆè¯´å®è¯æ²¡å…³æ³¨è¿‡ï¼Œåé¢åšä¸»ä¼šäº†è§£ä¸‹ï¼‰</span><br><span class="line">myisamchk.exe                       # å¯ä»¥ç”¨æ¥è·å¾—æœ‰å…³ä½ çš„æ•°æ®åº“è¡¨çš„ç»Ÿè®¡ä¿¡æ¯æˆ–æ£€æŸ¥ã€ä¿®å¤ã€ä¼˜åŒ–ä»–ä»¬</span><br><span class="line">myisamlog.exe                       # æ˜¾ç¤ºMyISAMæ—¥å¿—æ–‡ä»¶å†…å®¹</span><br><span class="line">myisampack.exe                      # å¯ä»¥å‹ç¼©MyISAMè¡¨</span><br><span class="line">myisam_ftdump.exe                   # æ˜¾ç¤ºå…¨æ–‡ç´¢å¼•ä¿¡æ¯ã€‚</span><br><span class="line">mysql.exe                           # mysqlå®¢æˆ·ç«¯ï¼Œç”¨æ¥è¿æ¥å¹¶æ“ä½œmysqlæœåŠ¡çš„ ï¼ˆé»‘é»‘çš„é‚£ä¸ªçª—å£ï¼‰</span><br><span class="line">mysqladmin.exe                      # ç”¨äºç®¡ç†MySQLæœåŠ¡å™¨å®¢æˆ·ç«¯ï¼Œä¿®æ”¹å¯†ç ç­‰åŠŸèƒ½ã€‚</span><br><span class="line">mysqlbinlog.exe                     # å¤„ç†äºŒè¿›åˆ¶æ—¥å¿—æ–‡ä»¶çš„ã€‚</span><br><span class="line">mysqlcheck.exe                      # è¡¨ç»´æŠ¤ç¨‹åºã€‚</span><br><span class="line">mysqld.exe                          # mysqlçš„æœåŠ¡ç«¯ï¼Œå£å¤´æ„ä¹‰ä¸Šçš„è¿æ¥mysqlå°±æ˜¯è¿æ¥å®ƒ.</span><br><span class="line">mysqldump.exe                       # æ•°æ®åº“å¤‡ä»½ç¨‹åºã€‚</span><br><span class="line">mysqlimport.exe                     # æ•°æ®å¯¼å…¥ç¨‹åºã€‚</span><br><span class="line">mysqlpump.exe                       # æ•°æ®åº“å¤‡ä»½ç¨‹åºï¼Œæ¯”mysqldumpæ›´å¼ºã€‚</span><br><span class="line">mysqlshow.exe                       # æ˜¾ç¤ºæ•°æ®åº“ã€è¡¨å’Œåˆ—çš„ä¿¡æ¯ã€‚</span><br><span class="line">mysqlslap.exe                       # è´Ÿè½½ä»¿çœŸå®¢æˆ·ç«¯ã€‚</span><br><span class="line">mysql_config_editor.exe             # MySQLçš„é…ç½®å®ç”¨ç¨‹åºï¼ˆåé¢ä¼šè®²åˆ°ï¼‰ã€‚</span><br><span class="line">mysql_embedded.exe</span><br><span class="line">mysql_plugin.exe                    # é…ç½®MySQLæœåŠ¡å™¨æ’ä»¶ã€‚</span><br><span class="line">mysql_secure_installation.exe       # æé«˜MySQLå®‰è£…çš„å®‰å…¨æ€§ã€‚</span><br><span class="line">mysql_ssl_rsa_setup.exe             # åˆ›å»º SSL/RSA æ–‡ä»¶ã€‚</span><br><span class="line">mysql_tzinfo_to_sql.exe             # åŠ è½½æ—¶åŒºè¡¨ã€‚</span><br><span class="line">mysql_upgrade.exe                   # æ£€æŸ¥å¹¶å‡çº§MySQLè¡¨ã€‚</span><br><span class="line">my_print_defaults.exe               # æ˜¾ç¤ºé€‰é¡¹æ–‡ä»¶çš„é€‰é¡¹ã€‚</span><br><span class="line">perror.exe                          # è§£é‡Šé”™è¯¯ä»£ç ã€‚</span><br><span class="line">resolveip.exe                       # è§£æä¸»æœºååˆ°IPåœ°å€æˆ–åä¹‹äº¦ç„¶ã€‚</span><br><span class="line">zlib_decompress.exe                 # è§£å‹ç¼©mysqlpump zlibå‹ç¼©è¾“å‡ºã€‚</span><br></pre></td></tr></tbody></table></figure>
<hr>
<p>æ–‡ç« å†™äº†ä¸€åŠï¼Œåšä¸»çªç„¶è„‘å­ä¸€çƒ­ç»™è‡ªå·±ç¬”è®°æœ¬è£…äº†é»‘è‹¹æœï¼Œåé¢çš„æ–‡ç« å¯èƒ½å°±è¦ä»¥<code>MacOS</code>ä½œä¸ºæ¼”ç¤ºå¹³å°äº†ğŸ˜‚<br>è¿™é‡Œåšä¸»å†å±•ç¤ºä¸‹åœ¨<code>MacOS</code>ä¸‹çš„<code>MySQL</code>æ–‡ä»¶ç›®å½•ç»“æ„</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">lrwxr-xr-x   1 root  wheel         36 11 19 20:15 libprotobuf-lite.3.11.4.dylib -&gt; ../lib/libprotobuf-lite.3.11.4.dylib</span><br><span class="line">lrwxr-xr-x   1 root  wheel         31 11 19 20:15 libprotobuf.3.11.4.dylib -&gt; ../lib/libprotobuf.3.11.4.dylib</span><br><span class="line">-rwxr-xr-x   1 root  wheel    6954720  9 25 05:44 lz4_decompress</span><br><span class="line">-rwxr-xr-x   1 root  wheel    6878176  9 25 05:44 my_print_defaults</span><br><span class="line">-rwxr-xr-x   1 root  wheel    7226816  9 25 05:44 myisam_ftdump</span><br><span class="line">-rwxr-xr-x   1 root  wheel    7399536  9 25 05:44 myisamchk</span><br><span class="line">-rwxr-xr-x   1 root  wheel    7175712  9 25 05:44 myisamlog</span><br><span class="line">-rwxr-xr-x   1 root  wheel    7261536  9 25 05:44 myisampack</span><br><span class="line">-rwxr-xr-x   1 root  wheel    8313088  9 25 05:44 mysql</span><br><span class="line">-rwxr-xr-x   1 root  wheel       5023  9 25 03:48 mysql_config</span><br><span class="line">-rwxr-xr-x   1 root  wheel    6899536  9 25 05:44 mysql_config_editor</span><br><span class="line">-rwxr-xr-x   1 root  wheel    7940400  9 25 05:44 mysql_secure_installation</span><br><span class="line">-rwxr-xr-x   1 root  wheel    6939104  9 25 05:44 mysql_ssl_rsa_setup</span><br><span class="line">-rwxr-xr-x   1 root  wheel    6803536  9 25 05:44 mysql_tzinfo_to_sql</span><br><span class="line">-rwxr-xr-x   1 root  wheel    8186544  9 25 05:44 mysql_upgrade</span><br><span class="line">-rwxr-xr-x   1 root  wheel    7951296  9 25 05:44 mysqladmin</span><br><span class="line">-rwxr-xr-x   1 root  wheel    8582480  9 25 05:44 mysqlbinlog</span><br><span class="line">-rwxr-xr-x   1 root  wheel    7969328  9 25 05:44 mysqlcheck</span><br><span class="line">-rwxr-xr-x   1 root  wheel   73581760  9 25 05:44 mysqld</span><br><span class="line">-rwxr-xr-x   1 root  wheel  269357824  9 25 05:44 mysqld-debug</span><br><span class="line">-rwxr-xr-x   1 root  wheel      27513  9 25 03:48 mysqld_multi</span><br><span class="line">-rwxr-xr-x   1 root  wheel      29164  9 25 03:48 mysqld_safe   # æˆ‘æ˜¯å¯åŠ¨è„šæœ¬</span><br><span class="line">-rwxr-xr-x   1 root  wheel    8051216  9 25 05:44 mysqldump</span><br><span class="line">-rwxr-xr-x   1 root  wheel       7690  9 25 03:48 mysqldumpslow</span><br><span class="line">-rwxr-xr-x   1 root  wheel    7950928  9 25 05:44 mysqlimport</span><br><span class="line">-rwxr-xr-x   1 root  wheel    9011456  9 25 05:44 mysqlpump</span><br><span class="line">-rwxr-xr-x   1 root  wheel    7941824  9 25 05:44 mysqlshow</span><br><span class="line">-rwxr-xr-x   1 root  wheel    7973312  9 25 05:44 mysqlslap</span><br><span class="line">-rwxr-xr-x   1 root  wheel    7597712  9 25 05:44 perror</span><br><span class="line">-rwxr-xr-x   1 root  wheel    6831648  9 25 05:44 zlib_decompress</span><br></pre></td></tr></tbody></table></figure>
<p>ä¸Šé¢å°±æ˜¯<code>bin</code>ç›®å½•ä¸‹å¯æ‰§è¡Œç¨‹åºä»¥åŠå…¶ä½œç”¨ï¼Œè¿™é‡Œæœ‰å¾ˆå¤šä¸å¤ªéœ€è¦å»å…³æ³¨ï¼Œç›®å‰åªéœ€è¦å…³æ³¨å‡ ä¸ªå¯æ‰§è¡Œç¨‹åºï¼š</p>
<h3 id="mysqld"><a href="#mysqld" class="headerlink" title="mysqld"></a>mysqld</h3><p><code>mysqld</code>è¿™ä¸ªæ–‡ä»¶å°±æ˜¯<code>MySQL</code>æœåŠ¡å™¨ç¨‹åºï¼Œè¿è¡Œè¿™ä¸ªæ–‡ä»¶å°±å¯ä»¥ç›´æ¥å¯åŠ¨ä¸€ä¸ª<code>MySQL</code>æœåŠ¡è¿›ç¨‹ã€‚</p>
<h3 id="mysqld-safe"><a href="#mysqld-safe" class="headerlink" title="mysqld_safe"></a>mysqld_safe</h3><p><code>mysqld_safe</code>è„šæœ¬å®é™…ä¸Šä¼šè°ƒç”¨<code>mysqld</code>æ¥å¯åŠ¨æœåŠ¡ï¼Œä½†å®ƒä¼šåœ¨å¯åŠ¨<code>MySQL</code>æœåŠ¡å™¨åç»§ç»­ç›‘æ§å…¶è¿è¡Œæƒ…å†µï¼Œå¹¶åœ¨å…¶æ­»æœºæ—¶é‡æ–°å¯åŠ¨å®ƒã€‚å®ƒé€šå¸¸åšå¦‚ä¸‹äº‹æƒ…ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">æ£€æŸ¥ç³»ç»Ÿå’Œé€‰é¡¹ã€‚</span><br><span class="line">æ£€æŸ¥MyISAMè¡¨ã€‚</span><br><span class="line">ä¿æŒMySQLæœåŠ¡å™¨çª—å£ã€‚</span><br><span class="line">å¯åŠ¨å¹¶ç›‘è§†mysqldï¼Œå¦‚æœå› é”™è¯¯ç»ˆæ­¢åˆ™é‡å¯ã€‚</span><br><span class="line">å°†mysqldçš„é”™è¯¯æ¶ˆæ¯å‘é€åˆ°æ•°æ®ç›®å½•ä¸­çš„host_name.err æ–‡ä»¶ã€‚</span><br><span class="line">å°†mysqld_safeçš„å±å¹•è¾“å‡ºå‘é€åˆ°æ•°æ®ç›®å½•ä¸­çš„host_name.safeæ–‡ä»¶ã€‚</span><br></pre></td></tr></tbody></table></figure>
<h3 id="mysqld-multi"><a href="#mysqld-multi" class="headerlink" title="mysqld_multi"></a>mysqld_multi</h3><p><code>mysql</code>å¤šå®ä¾‹ï¼Œæ¡æ¥ç†è§£å°±æ˜¯åœ¨ä¸€å°æœåŠ¡å™¨ä¸Šï¼Œè¿è¡Œå¤šä¸ª<code>mysql</code>æœåŠ¡è¿›ç¨‹ï¼Œè¿™äº›<code>mysql</code>æœåŠ¡è¿›ç¨‹é€šè¿‡ä¸åŒçš„socketæ¥ç›‘å¬ä¸åŒçš„æ•°æ®ç«¯å£ï¼Œè¿›è€Œäº’ä¸å¹²æ¶‰çš„æä¾›å„è‡ªçš„æœåŠ¡</p>
<h3 id="mysql-server"><a href="#mysql-server" class="headerlink" title="mysql.server"></a>mysql.server</h3><p><code>mysql.server</code>åŒæ ·æ˜¯æœåŠ¡ç«¯å¯åŠ¨è„šæœ¬ï¼Œä¸»è¦ä½œç”¨å°±æ˜¯ä¸ºäº†æ–¹ä¾¿å¯åŠ¨å’Œå…³é—­<code>mysql</code>æœåŠ¡ï¼Œè¿™ä¸ªè„šæœ¬ä¼šè°ƒç”¨<code>mysql_safe</code>æ¥å¯åŠ¨<code>mysql</code>,éœ€è¦æ³¨æ„çš„æ˜¯è¿™ä¸ªæ–‡ä»¶å¹¶ä¸åœ¨<code>bin</code>ç›®å½•ä¸‹ï¼Œå®ƒçš„å®é™…ç›®å½•æ˜¯å®‰è£…ç›®å½•çš„<code>support-files</code>æ–‡ä»¶å¤¹ä¸‹</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/mysql                               # æˆ‘çš„mysqlå®‰è£…ç›®å½•</span><br><span class="line">/usr/local/mysql/support-files/mysql.server    # mysql.serveræ–‡ä»¶ä½ç½®</span><br></pre></td></tr></tbody></table></figure>

<h3 id="å¯åŠ¨MySQLæœåŠ¡ç«¯"><a href="#å¯åŠ¨MySQLæœåŠ¡ç«¯" class="headerlink" title="å¯åŠ¨MySQLæœåŠ¡ç«¯"></a>å¯åŠ¨MySQLæœåŠ¡ç«¯</h3><p>åœ¨<code>MacOS</code>ä¸‹æˆ‘ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å¯åŠ¨<code>MySQL</code></p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo /usr/local/mysql/support-files/mysql.server start   # å¯åŠ¨MySQL</span><br><span class="line">sudo /usr/local/mysql/support-files/mysql.server stop   # åœæ­¢MySQL</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨Windowsä¸‹å¯ä»¥åœ¨cmdä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤å¯åŠ¨mysqlï¼Œå½“ç„¶å‰ææ˜¯ä½ å·²ç»æŠŠmysqlæ³¨å†Œä¸ºæœåŠ¡äº†</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">net start MySQL # å¯åŠ¨MySQL</span><br><span class="line">net stop MySQL  # åœæ­¢MySQL</span><br><span class="line"></span><br><span class="line">"C:\Program Files\MySQL\MySQL Server 5.7\bin\mysqld" --install # ç”¨äºæ³¨å†ŒæœåŠ¡</span><br></pre></td></tr></tbody></table></figure>

<h4 id="å¯åŠ¨å‚æ•°"><a href="#å¯åŠ¨å‚æ•°" class="headerlink" title="å¯åŠ¨å‚æ•°"></a>å¯åŠ¨å‚æ•°</h4><p>æœåŠ¡ç«¯å¯åŠ¨çš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡æŒ‡å®šä¸€äº›å¯åŠ¨å‚æ•°æ¥è¿›è¡Œé…ç½®ï¼Œæ¯”å¦‚ä½¿ç”¨<code>default-storage-engine</code>æ¥æŒ‡å®šæœåŠ¡ç«¯å¯åŠ¨çš„æ—¶å€™é»˜è®¤çš„è¡¨å­˜å‚¨å¼•æ“</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqld --default-storage-engine=MyISAM</span><br></pre></td></tr></tbody></table></figure>
<p>è¿™æ ·ï¼Œ<code>MySQL</code>å¯åŠ¨åé»˜è®¤çš„è¡¨å­˜å‚¨å¼•æ“å°±æ˜¯<code>MyISAM</code>ï¼Œæ¯ä¸ªå¯æ‰§è¡Œç¨‹åºéƒ½æœ‰ä¸åŒçš„é€‰é¡¹ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å¯æ‰§è¡Œç¨‹åºåé¢åŠ ä¸Š<code>--help</code>æ¥æŸ¥çœ‹å…¶æ‹¥æœ‰çš„å¯åŠ¨é¡¹ä»¥åŠé»˜è®¤çš„å‚æ•°ï¼Œè€Œå¯¹äº<code>mysqld</code>åˆ™éœ€è¦ä½¿ç”¨<code>--verbose --help</code>æ¥æŸ¥çœ‹</p>
<h4 id="é€šè¿‡é…ç½®æ–‡ä»¶å¯åŠ¨"><a href="#é€šè¿‡é…ç½®æ–‡ä»¶å¯åŠ¨" class="headerlink" title="é€šè¿‡é…ç½®æ–‡ä»¶å¯åŠ¨"></a>é€šè¿‡é…ç½®æ–‡ä»¶å¯åŠ¨</h4><p>ä¸Šé¢ä»‹ç»äº†å¦‚ä½•é€šè¿‡åœ¨å‘½ä»¤è¡Œåé¢ä»¥å‚æ•°çš„å½¢å¼å¯åŠ¨<code>MySQL</code>ï¼Œæ¥ä¸‹æ¥ä»‹ç»å¦‚ä½•é€šè¿‡é…ç½®æ–‡ä»¶çš„æ–¹å¼å¯åŠ¨<code>MySQL</code>ï¼Œ<code>MySQL</code>å¯åŠ¨çš„æ—¶å€™ä¼šè¯»å–å¤šä¸ªè·¯å¾„ä¸‹çš„é…ç½®æ–‡ä»¶ï¼Œè¿™äº›é…ç½®æ–‡ä»¶çš„è·¯å¾„æœ‰çš„æ˜¯å›ºå®šçš„ï¼Œæœ‰çš„æ˜¯å¯ä»¥åœ¨å‘½ä»¤è¡ŒæŒ‡å®šçš„ï¼Œå½“ç„¶æ“ä½œç³»ç»Ÿä¸åŒï¼Œé…ç½®æ–‡ä»¶çš„è·¯å¾„ä¹Ÿæœ‰æ‰€ä¸åŒã€‚</p>
<h5 id="Windowsä¸‹çš„è·¯å¾„"><a href="#Windowsä¸‹çš„è·¯å¾„" class="headerlink" title="Windowsä¸‹çš„è·¯å¾„"></a>Windowsä¸‹çš„è·¯å¾„</h5><p>åœ¨Windowsä¸­ï¼ŒMySQLä¼šæŒ‰ç…§ä¸‹åˆ—è·¯å¾„æ¥æ‰¾é…ç½®æ–‡ä»¶</p>
<table>
<thead>
<tr>
<th>è·¯å¾„å</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody><tr>
<td>%WINDIR%\my.iniã€%WINDIR%\my.cnf</td>
<td>%WINDIR%ä¸€èˆ¬æ˜¯æŒ‡C:\WINDOWSï¼Œä¹Ÿå¯ä»¥åœ¨å‘½ä»¤è¡Œä½¿ç”¨ echo %WINDIR%æŸ¥çœ‹</td>
</tr>
<tr>
<td>C:\my.iniã€C:\my.cnf</td>
<td></td>
</tr>
<tr>
<td>BASEDIR\my.iniã€BASEDIR\my.cnf</td>
<td>BASEDIRæŒ‡çš„æ˜¯MySQLå®‰è£…è·¯å¾„</td>
</tr>
<tr>
<td>defaults-extra-file</td>
<td>æ•°æ®åº“æœåŠ¡å¯åŠ¨æ—¶åœ¨å‘½ä»¤è¡ŒåæŒ‡å®šçš„é¢å¤–é…ç½®æ–‡ä»¶</td>
</tr>
<tr>
<td>%APPDATA%\MySQL.mylogin.cnf</td>
<td>%appdata%å°±ä»£è¡¨äº†C:Users\ç”¨æˆ·å\AppData\Roamingè¿™ä¸ªæ–‡ä»¶å¤¹</td>
</tr>
</tbody></table>
<h5 id="MacOSä¸‹"><a href="#MacOSä¸‹" class="headerlink" title="MacOSä¸‹"></a>MacOSä¸‹</h5><p><code>MacOS</code>æˆ–è€…<code>Linux</code>ä¸‹å¯ä»¥åœ¨å‘½ä»¤è¡Œä½¿ç”¨<code>./mysqld --verbose --help |grep -A 1 'Default options'</code>æŸ¥çœ‹<code>MySQL</code>çš„é»˜è®¤é…ç½®æ–‡ä»¶è·¯å¾„</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">lu@ludeMacBook-Pro bin % ./mysqld --verbose --help |grep -A 1 'Default options'</span><br><span class="line">Default options are read from the following files in the given order:</span><br><span class="line">/etc/my.cnf /etc/mysql/my.cnf /usr/local/mysql/etc/my.cnf ~/.my.cnf </span><br></pre></td></tr></tbody></table></figure>
<table>
<thead>
<tr>
<th>è·¯å¾„å</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody><tr>
<td>/etc/my.cnf</td>
<td></td>
</tr>
<tr>
<td>/etc/mysql/my.cnf</td>
<td></td>
</tr>
<tr>
<td>/usr/local/mysql/etc/my.cnf</td>
<td></td>
</tr>
<tr>
<td>~/.my.cnf</td>
<td></td>
</tr>
<tr>
<td>defaults-extra-file</td>
<td>æ•°æ®åº“æœåŠ¡å¯åŠ¨æ—¶åœ¨å‘½ä»¤è¡ŒåæŒ‡å®šçš„é¢å¤–é…ç½®æ–‡ä»¶</td>
</tr>
</tbody></table>
<p>å¦å¤–ï¼Œä¸Šé¢æåˆ°è¿‡çš„<code>mysqld_safe</code>ç¨‹åºå¯åŠ¨æœåŠ¡å™¨æ—¶å€™ï¼Œä¼šé—´æ¥çš„è°ƒç”¨<code>mysqld</code>,æ‰€ä»¥ä¼ é€’ç»™<code>mysqld_safe</code>çš„é€‰é¡¹ï¼Œå¦‚æœ<code>mysqld_safe</code>ç¨‹åºä¸å¤„ç†ï¼Œä¼šæ¥ç€ä¼ é€’ç»™<code>mysqld</code>ç¨‹åºå¤„ç†ï¼Œæ¯”å¦‚<code>default-storage-engine</code>é€‰é¡¹éœ€è¦ç”±<code>mysqld</code>å¤„ç†ï¼Œè€Œ<code>mysqld_safe</code>å¹¶ä¸å¤„ç†ï¼Œå¦‚æœæˆ‘ä»¬è¿è¡Œ</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqld_safe --default-storage-engine=MyISAM</span><br></pre></td></tr></tbody></table></figure>
<p>åˆ™<code>mysqld_safe</code>åœ¨è°ƒç”¨<code>mysqld</code>æ—¶å€™ï¼Œä¼šæŠŠå®ƒå¤„ç†ä¸äº†çš„é€‰é¡¹äº¤ç»™<code>mysqld</code>å¤„ç†ï¼Œ</p>
<blockquote>
<p>ä¸Šé¢åˆ—å‡ºçš„é¡ºåºå°±æ˜¯mysqlè¯»å–é…ç½®æ–‡ä»¶çš„é¡ºåº</p>
</blockquote>
<h4 id="é…ç½®æ–‡ä»¶çš„å†…å®¹"><a href="#é…ç½®æ–‡ä»¶çš„å†…å®¹" class="headerlink" title="é…ç½®æ–‡ä»¶çš„å†…å®¹"></a>é…ç½®æ–‡ä»¶çš„å†…å®¹</h4><p>ä¸Šé¢è¯´åˆ°ï¼Œ<code>MySQL</code>çš„<code>bin</code>ç›®å½•ä¸‹æœ‰å¤šä¸ªå¯æ‰§è¡Œç¨‹åºå¯ä»¥å¯åŠ¨<code>MySQL</code>ä¸”å¯åŠ¨çš„çš„æ—¶å€™å¯ä»¥åœ¨åé¢è·Ÿä¸Šå¯åŠ¨å‚æ•°ï¼Œä¸åŒçš„ç¨‹åºä¼šå¤„ç†ä¸åŒçš„å¯åŠ¨å‚æ•°ï¼Œå¹¶ä¸”ä¼šæŠŠè‡ªå·±å¤„ç†ä¸äº†çš„å‚æ•°ä¼ é€’ç»™ä¸‹ä¸€ä¸ªå¯æ‰§è¡Œç¨‹åºå¤„ç†ï¼Œè€Œé…ç½®æ–‡ä»¶ä¸­åŒæ ·å¯ä»¥é€šè¿‡<code>[]</code>æ¥è¿›è¡Œé…ç½®çš„åŒºåˆ†</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[server]</span><br><span class="line">option1 # è¯¥é€‰é¡¹ä¸éœ€è¦é€‰é¡¹å€¼ ä¾‹å¦‚ skip-networking é…ç½®è¯¥é€‰é¡¹åmysqlä¸å†æ¥å—TCP/IPçš„æ–¹å¼è¿æ¥</span><br><span class="line">option2 = option2 # è¯¥é€‰é¡¹æœ‰é€‰é¡¹å€¼  ä¾‹å¦‚ prot=3306 é…ç½®æœåŠ¡å¯åŠ¨æ—¶å€™çš„ç›‘å¬ç«¯å£å·</span><br><span class="line">....</span><br><span class="line"></span><br><span class="line">[mysqld]</span><br><span class="line">....</span><br><span class="line"></span><br><span class="line">[mysqld_safe]</span><br><span class="line">....</span><br><span class="line"></span><br><span class="line">[client]</span><br><span class="line">....</span><br><span class="line"></span><br><span class="line">[mysql]</span><br><span class="line">....</span><br><span class="line"></span><br><span class="line">[mysqladmin]</span><br><span class="line">....</span><br></pre></td></tr></tbody></table></figure>
<p>é…ç½®æ–‡ä»¶ä¸­çš„åˆ†ç»„æ˜¯ä¸ºäº†ç»™ä¸åŒçš„å¯åŠ¨ç¨‹åºè¯»å–ï¼Œä¾‹å¦‚<code>mysqld</code>å’Œ<code>mysql</code>ä¼šåˆ†åˆ«è¯»å–<code>[mysqld]</code>å’Œ<code>[mysql]</code>ä¸‹çš„å†…å®¹ï¼Œä¸è¿‡æœ‰ä¸¤ä¸ªé€‰é¡¹ç»„æ¯”è¾ƒç‰¹æ®Šï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[server] ç»„ä¸‹é¢çš„å¯åŠ¨é¡¹å°†ä½œç”¨äºæ‰€æœ‰çš„æœåŠ¡å™¨ç¨‹åº</span><br><span class="line"></span><br><span class="line">[client] ç»„ä¸‹é¢çš„å¯åŠ¨é¡¹å°†ä½œç”¨äºæ‰€æœ‰å®¢æˆ·ç«¯ç¨‹åº</span><br></pre></td></tr></tbody></table></figure>
<p>è¿˜æœ‰ï¼Œ<code>mysqld_safe</code>å’Œ<code>mysql.server</code>è¿™ä¸¤ä¸ªç¨‹åºåœ¨æ‰§è¡Œçš„æ—¶å€™éƒ½ä¼šè¯»å–<code>[mysqld]</code>åˆ†ç»„ä¸­çš„å†…å®¹ï¼Œè¿™é‡Œæˆ‘æ‰¾äº†ä¸ªè¡¨æ ¼æ¥æ¼”ç¤ºä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>å¯åŠ¨å‘½ä»¤</th>
<th>åŠŸèƒ½</th>
<th>èƒ½è¯»çš„ç»„</th>
</tr>
</thead>
<tbody><tr>
<td>mysqld</td>
<td>å¯åŠ¨æœåŠ¡å™¨</td>
<td>[mysqld]ã€[server]</td>
</tr>
<tr>
<td>mysqld_safe</td>
<td>å¯åŠ¨æœåŠ¡å™¨</td>
<td>[mysqld]ã€[server]ã€[mysqld_safe]</td>
</tr>
<tr>
<td>mysql.server</td>
<td>å¯åŠ¨æœåŠ¡å™¨</td>
<td>[mysqld]ã€[server]ã€[mysql.server]</td>
</tr>
<tr>
<td>mysql</td>
<td>å¯åŠ¨å®¢æˆ·ç«¯</td>
<td>[mysql]ã€[client]</td>
</tr>
<tr>
<td>mysqladmin</td>
<td>å¯åŠ¨å®¢æˆ·ç«¯</td>
<td>[mysqladmin]ã€[client]</td>
</tr>
<tr>
<td>mysqldump</td>
<td>å¯åŠ¨å®¢æˆ·ç«¯</td>
<td>[mysqldump]ã€[client]</td>
</tr>
</tbody></table>
<p>mysqlä¼šæŒ‰ç…§è¡¨æ ¼ä¸­çš„é¡ºåºä¾æ¬¡è¯»å–å„ä¸ªé…ç½®æ–‡ä»¶çš„å†…å®¹ï¼Œå¦‚æœæˆ‘ä»¬åœ¨å¤šä¸ªé…ç½®æ–‡ä»¶ä¸­è®¾ç½®äº†ç›¸åŒçš„å¯åŠ¨é€‰é¡¹ï¼Œåˆ™ä¾ç…§æœ€åä¸€ä¸ªæ–‡ä»¶å†…å®¹ä¸ºå‡†ï¼Œè¿™é‡Œæä¾›ä¸€ä»½é…ç½®æ–‡ä»¶çš„ä¸­æ–‡è¯¦ç»†è¯´æ˜ï¼ˆæ³¨æ„ï¼Œä»…ä»…ç”¨ä½œå‚è€ƒï¼‰</p>
<h4 id="é…ç½®æ–‡ä»¶å‚è€ƒ"><a href="#é…ç½®æ–‡ä»¶å‚è€ƒ" class="headerlink" title="é…ç½®æ–‡ä»¶å‚è€ƒ"></a>é…ç½®æ–‡ä»¶å‚è€ƒ</h4><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br></pre></td><td class="code"><pre><span class="line">[client]</span><br><span class="line">port = 3306</span><br><span class="line">socket = /tmp/mysql.sock</span><br><span class="line">[mysqld]</span><br><span class="line">port = 3306</span><br><span class="line">socket = /tmp/mysql.sock</span><br><span class="line">basedir = /usr/local/mysql</span><br><span class="line">datadir = /data/mysql</span><br><span class="line">pid-file = /data/mysql/mysql.pid</span><br><span class="line">user = mysql</span><br><span class="line">bind-address = 0.0.0.0</span><br><span class="line">server-id = 1 #è¡¨ç¤ºæ˜¯æœ¬æœºçš„åºå·ä¸º1,ä¸€èˆ¬æ¥è®²å°±æ˜¯masterçš„æ„æ€</span><br><span class="line">skip-name-resolve</span><br><span class="line"># ç¦æ­¢MySQLå¯¹å¤–éƒ¨è¿æ¥è¿›è¡ŒDNSè§£æï¼Œä½¿ç”¨è¿™ä¸€é€‰é¡¹å¯ä»¥æ¶ˆé™¤MySQLè¿›è¡ŒDNSè§£æçš„æ—¶é—´ã€‚ä½†éœ€è¦æ³¨æ„ï¼Œå¦‚æœå¼€å¯è¯¥é€‰é¡¹ï¼Œ</span><br><span class="line"># åˆ™æ‰€æœ‰è¿œç¨‹ä¸»æœºè¿æ¥æˆæƒéƒ½è¦ä½¿ç”¨IPåœ°å€æ–¹å¼ï¼Œå¦åˆ™MySQLå°†æ— æ³•æ­£å¸¸å¤„ç†è¿æ¥è¯·æ±‚</span><br><span class="line">#skip-networking</span><br><span class="line">back_log = 600</span><br><span class="line"># MySQLèƒ½æœ‰çš„è¿æ¥æ•°é‡ã€‚å½“ä¸»è¦MySQLçº¿ç¨‹åœ¨ä¸€ä¸ªå¾ˆçŸ­æ—¶é—´å†…å¾—åˆ°éå¸¸å¤šçš„è¿æ¥è¯·æ±‚ï¼Œè¿™å°±èµ·ä½œç”¨ï¼Œ</span><br><span class="line"># ç„¶åä¸»çº¿ç¨‹èŠ±äº›æ—¶é—´(å°½ç®¡å¾ˆçŸ­)æ£€æŸ¥è¿æ¥å¹¶ä¸”å¯åŠ¨ä¸€ä¸ªæ–°çº¿ç¨‹ã€‚back_logå€¼æŒ‡å‡ºåœ¨MySQLæš‚æ—¶åœæ­¢å›ç­”æ–°è¯·æ±‚ä¹‹å‰çš„çŸ­æ—¶é—´å†…å¤šå°‘ä¸ªè¯·æ±‚å¯ä»¥è¢«å­˜åœ¨å †æ ˆä¸­ã€‚</span><br><span class="line"># å¦‚æœæœŸæœ›åœ¨ä¸€ä¸ªçŸ­æ—¶é—´å†…æœ‰å¾ˆå¤šè¿æ¥ï¼Œä½ éœ€è¦å¢åŠ å®ƒã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœMySQLçš„è¿æ¥æ•°æ®è¾¾åˆ°max_connectionsæ—¶ï¼Œæ–°æ¥çš„è¯·æ±‚å°†ä¼šè¢«å­˜åœ¨å †æ ˆä¸­ï¼Œ</span><br><span class="line"># ä»¥ç­‰å¾…æŸä¸€è¿æ¥é‡Šæ”¾èµ„æºï¼Œè¯¥å †æ ˆçš„æ•°é‡å³back_logï¼Œå¦‚æœç­‰å¾…è¿æ¥çš„æ•°é‡è¶…è¿‡back_logï¼Œå°†ä¸è¢«æˆäºˆè¿æ¥èµ„æºã€‚</span><br><span class="line"># å¦å¤–ï¼Œè¿™å€¼ï¼ˆback_logï¼‰é™äºæ‚¨çš„æ“ä½œç³»ç»Ÿå¯¹åˆ°æ¥çš„TCP/IPè¿æ¥çš„ä¾¦å¬é˜Ÿåˆ—çš„å¤§å°ã€‚</span><br><span class="line"># ä½ çš„æ“ä½œç³»ç»Ÿåœ¨è¿™ä¸ªé˜Ÿåˆ—å¤§å°ä¸Šæœ‰å®ƒè‡ªå·±çš„é™åˆ¶ï¼ˆå¯ä»¥æ£€æŸ¥ä½ çš„OSæ–‡æ¡£æ‰¾å‡ºè¿™ä¸ªå˜é‡çš„æœ€å¤§å€¼ï¼‰ï¼Œè¯•å›¾è®¾å®šback_logé«˜äºä½ çš„æ“ä½œç³»ç»Ÿçš„é™åˆ¶å°†æ˜¯æ— æ•ˆçš„ã€‚</span><br><span class="line">max_connections = 1000</span><br><span class="line"># MySQLçš„æœ€å¤§è¿æ¥æ•°ï¼Œå¦‚æœæœåŠ¡å™¨çš„å¹¶å‘è¿æ¥è¯·æ±‚é‡æ¯”è¾ƒå¤§ï¼Œå»ºè®®è°ƒé«˜æ­¤å€¼ï¼Œä»¥å¢åŠ å¹¶è¡Œè¿æ¥æ•°é‡ï¼Œå½“ç„¶è¿™å»ºç«‹åœ¨æœºå™¨èƒ½æ”¯æ’‘çš„æƒ…å†µä¸‹ï¼Œå› ä¸ºå¦‚æœè¿æ¥æ•°è¶Šå¤šï¼Œä»‹äºMySQLä¼šä¸ºæ¯ä¸ªè¿æ¥æä¾›è¿æ¥ç¼“å†²åŒºï¼Œå°±ä¼šå¼€é”€è¶Šå¤šçš„å†…å­˜ï¼Œæ‰€ä»¥è¦é€‚å½“è°ƒæ•´è¯¥å€¼ï¼Œä¸èƒ½ç›²ç›®æé«˜è®¾å€¼ã€‚å¯ä»¥è¿‡'conn%'é€šé…ç¬¦æŸ¥çœ‹å½“å‰çŠ¶æ€çš„è¿æ¥æ•°é‡ï¼Œä»¥å®šå¤ºè¯¥å€¼çš„å¤§å°ã€‚</span><br><span class="line">max_connect_errors = 6000</span><br><span class="line"># å¯¹äºåŒä¸€ä¸»æœºï¼Œå¦‚æœæœ‰è¶…å‡ºè¯¥å‚æ•°å€¼ä¸ªæ•°çš„ä¸­æ–­é”™è¯¯è¿æ¥ï¼Œåˆ™è¯¥ä¸»æœºå°†è¢«ç¦æ­¢è¿æ¥ã€‚å¦‚éœ€å¯¹è¯¥ä¸»æœºè¿›è¡Œè§£ç¦ï¼Œæ‰§è¡Œï¼šFLUSH HOSTã€‚</span><br><span class="line">open_files_limit = 65535</span><br><span class="line"># MySQLæ‰“å¼€çš„æ–‡ä»¶æè¿°ç¬¦é™åˆ¶ï¼Œé»˜è®¤æœ€å°1024;å½“open_files_limitæ²¡æœ‰è¢«é…ç½®çš„æ—¶å€™ï¼Œæ¯”è¾ƒmax_connections*5å’Œulimit -nçš„å€¼ï¼Œå“ªä¸ªå¤§ç”¨å“ªä¸ªï¼Œ</span><br><span class="line"># å½“open_file_limitè¢«é…ç½®çš„æ—¶å€™ï¼Œæ¯”è¾ƒopen_files_limitå’Œmax_connections*5çš„å€¼ï¼Œå“ªä¸ªå¤§ç”¨å“ªä¸ªã€‚</span><br><span class="line">table_open_cache = 128</span><br><span class="line"># MySQLæ¯æ‰“å¼€ä¸€ä¸ªè¡¨ï¼Œéƒ½ä¼šè¯»å…¥ä¸€äº›æ•°æ®åˆ°table_open_cacheç¼“å­˜ä¸­ï¼Œå½“MySQLåœ¨è¿™ä¸ªç¼“å­˜ä¸­æ‰¾ä¸åˆ°ç›¸åº”ä¿¡æ¯æ—¶ï¼Œæ‰ä¼šå»ç£ç›˜ä¸Šè¯»å–ã€‚é»˜è®¤å€¼64</span><br><span class="line"># å‡å®šç³»ç»Ÿæœ‰200ä¸ªå¹¶å‘è¿æ¥ï¼Œåˆ™éœ€å°†æ­¤å‚æ•°è®¾ç½®ä¸º200*N(Nä¸ºæ¯ä¸ªè¿æ¥æ‰€éœ€çš„æ–‡ä»¶æè¿°ç¬¦æ•°ç›®)ï¼›</span><br><span class="line"># å½“æŠŠtable_open_cacheè®¾ç½®ä¸ºå¾ˆå¤§æ—¶ï¼Œå¦‚æœç³»ç»Ÿå¤„ç†ä¸äº†é‚£ä¹ˆå¤šæ–‡ä»¶æè¿°ç¬¦ï¼Œé‚£ä¹ˆå°±ä¼šå‡ºç°å®¢æˆ·ç«¯å¤±æ•ˆï¼Œè¿æ¥ä¸ä¸Š</span><br><span class="line">max_allowed_packet = 4M</span><br><span class="line"># æ¥å—çš„æ•°æ®åŒ…å¤§å°ï¼›å¢åŠ è¯¥å˜é‡çš„å€¼ååˆ†å®‰å…¨ï¼Œè¿™æ˜¯å› ä¸ºä»…å½“éœ€è¦æ—¶æ‰ä¼šåˆ†é…é¢å¤–å†…å­˜ã€‚ä¾‹å¦‚ï¼Œä»…å½“ä½ å‘å‡ºé•¿æŸ¥è¯¢æˆ–MySQLdå¿…é¡»è¿”å›å¤§çš„ç»“æœè¡Œæ—¶MySQLdæ‰ä¼šåˆ†é…æ›´å¤šå†…å­˜ã€‚</span><br><span class="line"># è¯¥å˜é‡ä¹‹æ‰€ä»¥å–è¾ƒå°é»˜è®¤å€¼æ˜¯ä¸€ç§é¢„é˜²æªæ–½ï¼Œä»¥æ•è·å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„é”™è¯¯ä¿¡æ¯åŒ…ï¼Œå¹¶ç¡®ä¿ä¸ä¼šå› å¶ç„¶ä½¿ç”¨å¤§çš„ä¿¡æ¯åŒ…è€Œå¯¼è‡´å†…å­˜æº¢å‡ºã€‚</span><br><span class="line">binlog_cache_size = 1M</span><br><span class="line"># ä¸€ä¸ªäº‹åŠ¡ï¼Œåœ¨æ²¡æœ‰æäº¤çš„æ—¶å€™ï¼Œäº§ç”Ÿçš„æ—¥å¿—ï¼Œè®°å½•åˆ°Cacheä¸­ï¼›ç­‰åˆ°äº‹åŠ¡æäº¤éœ€è¦æäº¤çš„æ—¶å€™ï¼Œåˆ™æŠŠæ—¥å¿—æŒä¹…åŒ–åˆ°ç£ç›˜ã€‚é»˜è®¤binlog_cache_sizeå¤§å°32K</span><br><span class="line">max_heap_table_size = 8M</span><br><span class="line"># å®šä¹‰äº†ç”¨æˆ·å¯ä»¥åˆ›å»ºçš„å†…å­˜è¡¨(memory table)çš„å¤§å°ã€‚è¿™ä¸ªå€¼ç”¨æ¥è®¡ç®—å†…å­˜è¡¨çš„æœ€å¤§è¡Œæ•°å€¼ã€‚è¿™ä¸ªå˜é‡æ”¯æŒåŠ¨æ€æ”¹å˜</span><br><span class="line">tmp_table_size = 16M</span><br><span class="line"># MySQLçš„heapï¼ˆå †ç§¯ï¼‰è¡¨ç¼“å†²å¤§å°ã€‚æ‰€æœ‰è”åˆåœ¨ä¸€ä¸ªDMLæŒ‡ä»¤å†…å®Œæˆï¼Œå¹¶ä¸”å¤§å¤šæ•°è”åˆç”šè‡³å¯ä»¥ä¸ç”¨ä¸´æ—¶è¡¨å³å¯ä»¥å®Œæˆã€‚</span><br><span class="line"># å¤§å¤šæ•°ä¸´æ—¶è¡¨æ˜¯åŸºäºå†…å­˜çš„(HEAP)è¡¨ã€‚å…·æœ‰å¤§çš„è®°å½•é•¿åº¦çš„ä¸´æ—¶è¡¨ (æ‰€æœ‰åˆ—çš„é•¿åº¦çš„å’Œ)æˆ–åŒ…å«BLOBåˆ—çš„è¡¨å­˜å‚¨åœ¨ç¡¬ç›˜ä¸Šã€‚</span><br><span class="line"># å¦‚æœæŸä¸ªå†…éƒ¨heapï¼ˆå †ç§¯ï¼‰è¡¨å¤§å°è¶…è¿‡tmp_table_sizeï¼ŒMySQLå¯ä»¥æ ¹æ®éœ€è¦è‡ªåŠ¨å°†å†…å­˜ä¸­çš„heapè¡¨æ”¹ä¸ºåŸºäºç¡¬ç›˜çš„MyISAMè¡¨ã€‚è¿˜å¯ä»¥é€šè¿‡è®¾ç½®tmp_table_sizeé€‰é¡¹æ¥å¢åŠ ä¸´æ—¶è¡¨çš„å¤§å°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœè°ƒé«˜è¯¥å€¼ï¼ŒMySQLåŒæ—¶å°†å¢åŠ heapè¡¨çš„å¤§å°ï¼Œå¯è¾¾åˆ°æé«˜è”æ¥æŸ¥è¯¢é€Ÿåº¦çš„æ•ˆæœ</span><br><span class="line">read_buffer_size = 2M</span><br><span class="line"># MySQLè¯»å…¥ç¼“å†²åŒºå¤§å°ã€‚å¯¹è¡¨è¿›è¡Œé¡ºåºæ‰«æçš„è¯·æ±‚å°†åˆ†é…ä¸€ä¸ªè¯»å…¥ç¼“å†²åŒºï¼ŒMySQLä¼šä¸ºå®ƒåˆ†é…ä¸€æ®µå†…å­˜ç¼“å†²åŒºã€‚read_buffer_sizeå˜é‡æ§åˆ¶è¿™ä¸€ç¼“å†²åŒºçš„å¤§å°ã€‚</span><br><span class="line"># å¦‚æœå¯¹è¡¨çš„é¡ºåºæ‰«æè¯·æ±‚éå¸¸é¢‘ç¹ï¼Œå¹¶ä¸”ä½ è®¤ä¸ºé¢‘ç¹æ‰«æè¿›è¡Œå¾—å¤ªæ…¢ï¼Œå¯ä»¥é€šè¿‡å¢åŠ è¯¥å˜é‡å€¼ä»¥åŠå†…å­˜ç¼“å†²åŒºå¤§å°æé«˜å…¶æ€§èƒ½</span><br><span class="line">read_rnd_buffer_size = 8M</span><br><span class="line"># MySQLçš„éšæœºè¯»ç¼“å†²åŒºå¤§å°ã€‚å½“æŒ‰ä»»æ„é¡ºåºè¯»å–è¡Œæ—¶(ä¾‹å¦‚ï¼ŒæŒ‰ç…§æ’åºé¡ºåº)ï¼Œå°†åˆ†é…ä¸€ä¸ªéšæœºè¯»ç¼“å­˜åŒºã€‚è¿›è¡Œæ’åºæŸ¥è¯¢æ—¶ï¼Œ</span><br><span class="line"># MySQLä¼šé¦–å…ˆæ‰«æä¸€éè¯¥ç¼“å†²ï¼Œä»¥é¿å…ç£ç›˜æœç´¢ï¼Œæé«˜æŸ¥è¯¢é€Ÿåº¦ï¼Œå¦‚æœéœ€è¦æ’åºå¤§é‡æ•°æ®ï¼Œå¯é€‚å½“è°ƒé«˜è¯¥å€¼ã€‚ä½†MySQLä¼šä¸ºæ¯ä¸ªå®¢æˆ·è¿æ¥å‘æ”¾è¯¥ç¼“å†²ç©ºé—´ï¼Œæ‰€ä»¥åº”å°½é‡é€‚å½“è®¾ç½®è¯¥å€¼ï¼Œä»¥é¿å…å†…å­˜å¼€é”€è¿‡å¤§</span><br><span class="line">sort_buffer_size = 8M</span><br><span class="line"># MySQLæ‰§è¡Œæ’åºä½¿ç”¨çš„ç¼“å†²å¤§å°ã€‚å¦‚æœæƒ³è¦å¢åŠ ORDER BYçš„é€Ÿåº¦ï¼Œé¦–å…ˆçœ‹æ˜¯å¦å¯ä»¥è®©MySQLä½¿ç”¨ç´¢å¼•è€Œä¸æ˜¯é¢å¤–çš„æ’åºé˜¶æ®µã€‚</span><br><span class="line"># å¦‚æœä¸èƒ½ï¼Œå¯ä»¥å°è¯•å¢åŠ sort_buffer_sizeå˜é‡çš„å¤§å°</span><br><span class="line">join_buffer_size = 8M</span><br><span class="line"># è”åˆæŸ¥è¯¢æ“ä½œæ‰€èƒ½ä½¿ç”¨çš„ç¼“å†²åŒºå¤§å°ï¼Œå’Œsort_buffer_sizeä¸€æ ·ï¼Œè¯¥å‚æ•°å¯¹åº”çš„åˆ†é…å†…å­˜ä¹Ÿæ˜¯æ¯è¿æ¥ç‹¬äº«</span><br><span class="line">thread_cache_size = 8</span><br><span class="line"># è¿™ä¸ªå€¼ï¼ˆé»˜è®¤8ï¼‰è¡¨ç¤ºå¯ä»¥é‡æ–°åˆ©ç”¨ä¿å­˜åœ¨ç¼“å­˜ä¸­çº¿ç¨‹çš„æ•°é‡ï¼Œå½“æ–­å¼€è¿æ¥æ—¶å¦‚æœç¼“å­˜ä¸­è¿˜æœ‰ç©ºé—´ï¼Œé‚£ä¹ˆå®¢æˆ·ç«¯çš„çº¿ç¨‹å°†è¢«æ”¾åˆ°ç¼“å­˜ä¸­ï¼Œ</span><br><span class="line"># å¦‚æœçº¿ç¨‹é‡æ–°è¢«è¯·æ±‚ï¼Œé‚£ä¹ˆè¯·æ±‚å°†ä»ç¼“å­˜ä¸­è¯»å–,å¦‚æœç¼“å­˜ä¸­æ˜¯ç©ºçš„æˆ–è€…æ˜¯æ–°çš„è¯·æ±‚ï¼Œé‚£ä¹ˆè¿™ä¸ªçº¿ç¨‹å°†è¢«é‡æ–°åˆ›å»º,å¦‚æœæœ‰å¾ˆå¤šæ–°çš„çº¿ç¨‹ï¼Œ</span><br><span class="line"># å¢åŠ è¿™ä¸ªå€¼å¯ä»¥æ”¹å–„ç³»ç»Ÿæ€§èƒ½.é€šè¿‡æ¯”è¾ƒConnectionså’ŒThreads_createdçŠ¶æ€çš„å˜é‡ï¼Œå¯ä»¥çœ‹åˆ°è¿™ä¸ªå˜é‡çš„ä½œç”¨ã€‚(â€“&gt;è¡¨ç¤ºè¦è°ƒæ•´çš„å€¼)</span><br><span class="line"># æ ¹æ®ç‰©ç†å†…å­˜è®¾ç½®è§„åˆ™å¦‚ä¸‹ï¼š</span><br><span class="line"># 1G&nbsp; â€”&gt; 8</span><br><span class="line"># 2G&nbsp; â€”&gt; 16</span><br><span class="line"># 3G&nbsp; â€”&gt; 32</span><br><span class="line"># å¤§äº3G&nbsp; â€”&gt; 64</span><br><span class="line">query_cache_size = 8M</span><br><span class="line">#MySQLçš„æŸ¥è¯¢ç¼“å†²å¤§å°ï¼ˆä»4.0.1å¼€å§‹ï¼ŒMySQLæä¾›äº†æŸ¥è¯¢ç¼“å†²æœºåˆ¶ï¼‰ä½¿ç”¨æŸ¥è¯¢ç¼“å†²ï¼ŒMySQLå°†SELECTè¯­å¥å’ŒæŸ¥è¯¢ç»“æœå­˜æ”¾åœ¨ç¼“å†²åŒºä¸­ï¼Œ</span><br><span class="line"># ä»Šåå¯¹äºåŒæ ·çš„SELECTè¯­å¥ï¼ˆåŒºåˆ†å¤§å°å†™ï¼‰ï¼Œå°†ç›´æ¥ä»ç¼“å†²åŒºä¸­è¯»å–ç»“æœã€‚æ ¹æ®MySQLç”¨æˆ·æ‰‹å†Œï¼Œä½¿ç”¨æŸ¥è¯¢ç¼“å†²æœ€å¤šå¯ä»¥è¾¾åˆ°238%çš„æ•ˆç‡ã€‚</span><br><span class="line"># é€šè¿‡æ£€æŸ¥çŠ¶æ€å€¼'Qcache_%'ï¼Œå¯ä»¥çŸ¥é“query_cache_sizeè®¾ç½®æ˜¯å¦åˆç†ï¼šå¦‚æœQcache_lowmem_prunesçš„å€¼éå¸¸å¤§ï¼Œåˆ™è¡¨æ˜ç»å¸¸å‡ºç°ç¼“å†²ä¸å¤Ÿçš„æƒ…å†µï¼Œ</span><br><span class="line"># å¦‚æœQcache_hitsçš„å€¼ä¹Ÿéå¸¸å¤§ï¼Œåˆ™è¡¨æ˜æŸ¥è¯¢ç¼“å†²ä½¿ç”¨éå¸¸é¢‘ç¹ï¼Œæ­¤æ—¶éœ€è¦å¢åŠ ç¼“å†²å¤§å°ï¼›å¦‚æœQcache_hitsçš„å€¼ä¸å¤§ï¼Œåˆ™è¡¨æ˜ä½ çš„æŸ¥è¯¢é‡å¤ç‡å¾ˆä½ï¼Œ</span><br><span class="line"># è¿™ç§æƒ…å†µä¸‹ä½¿ç”¨æŸ¥è¯¢ç¼“å†²åè€Œä¼šå½±å“æ•ˆç‡ï¼Œé‚£ä¹ˆå¯ä»¥è€ƒè™‘ä¸ç”¨æŸ¥è¯¢ç¼“å†²ã€‚æ­¤å¤–ï¼Œåœ¨SELECTè¯­å¥ä¸­åŠ å…¥SQL_NO_CACHEå¯ä»¥æ˜ç¡®è¡¨ç¤ºä¸ä½¿ç”¨æŸ¥è¯¢ç¼“å†²</span><br><span class="line">query_cache_limit = 2M</span><br><span class="line">#æŒ‡å®šå•ä¸ªæŸ¥è¯¢èƒ½å¤Ÿä½¿ç”¨çš„ç¼“å†²åŒºå¤§å°ï¼Œé»˜è®¤1M</span><br><span class="line">key_buffer_size = 4M</span><br><span class="line">#æŒ‡å®šç”¨äºç´¢å¼•çš„ç¼“å†²åŒºå¤§å°ï¼Œå¢åŠ å®ƒå¯å¾—åˆ°æ›´å¥½å¤„ç†çš„ç´¢å¼•(å¯¹æ‰€æœ‰è¯»å’Œå¤šé‡å†™)ï¼Œåˆ°ä½ èƒ½è´Ÿæ‹…å¾—èµ·é‚£æ ·å¤šã€‚å¦‚æœä½ ä½¿å®ƒå¤ªå¤§ï¼Œ</span><br><span class="line"># ç³»ç»Ÿå°†å¼€å§‹æ¢é¡µå¹¶ä¸”çœŸçš„å˜æ…¢äº†ã€‚å¯¹äºå†…å­˜åœ¨4GBå·¦å³çš„æœåŠ¡å™¨è¯¥å‚æ•°å¯è®¾ç½®ä¸º384Mæˆ–512Mã€‚é€šè¿‡æ£€æŸ¥çŠ¶æ€å€¼Key_read_requestså’ŒKey_readsï¼Œ</span><br><span class="line"># å¯ä»¥çŸ¥é“key_buffer_sizeè®¾ç½®æ˜¯å¦åˆç†ã€‚æ¯”ä¾‹key_reads/key_read_requestsåº”è¯¥å°½å¯èƒ½çš„ä½ï¼Œ</span><br><span class="line"># è‡³å°‘æ˜¯1:100ï¼Œ1:1000æ›´å¥½(ä¸Šè¿°çŠ¶æ€å€¼å¯ä»¥ä½¿ç”¨SHOW STATUS LIKE 'key_read%'è·å¾—)ã€‚æ³¨æ„ï¼šè¯¥å‚æ•°å€¼è®¾ç½®çš„è¿‡å¤§åè€Œä¼šæ˜¯æœåŠ¡å™¨æ•´ä½“æ•ˆç‡é™ä½</span><br><span class="line">ft_min_word_len = 4</span><br><span class="line"># åˆ†è¯è¯æ±‡æœ€å°é•¿åº¦ï¼Œé»˜è®¤4</span><br><span class="line">transaction_isolation = REPEATABLE-READ</span><br><span class="line"># MySQLæ”¯æŒ4ç§äº‹åŠ¡éš”ç¦»çº§åˆ«ï¼Œä»–ä»¬åˆ†åˆ«æ˜¯ï¼š</span><br><span class="line"># READ-UNCOMMITTED, READ-COMMITTED, REPEATABLE-READ, SERIALIZABLE.</span><br><span class="line"># å¦‚æ²¡æœ‰æŒ‡å®šï¼ŒMySQLé»˜è®¤é‡‡ç”¨çš„æ˜¯REPEATABLE-READï¼ŒORACLEé»˜è®¤çš„æ˜¯READ-COMMITTED</span><br><span class="line">log_bin = mysql-bin</span><br><span class="line">binlog_format = mixed</span><br><span class="line">expire_logs_days = 30 #è¶…è¿‡30å¤©çš„binlogåˆ é™¤</span><br><span class="line">log_error = /data/mysql/mysql-error.log #é”™è¯¯æ—¥å¿—è·¯å¾„</span><br><span class="line">slow_query_log = 1</span><br><span class="line">long_query_time = 1 #æ…¢æŸ¥è¯¢æ—¶é—´ è¶…è¿‡1ç§’åˆ™ä¸ºæ…¢æŸ¥è¯¢</span><br><span class="line">slow_query_log_file = /data/mysql/mysql-slow.log</span><br><span class="line">performance_schema = 0</span><br><span class="line">explicit_defaults_for_timestamp</span><br><span class="line">#lower_case_table_names = 1 #ä¸åŒºåˆ†å¤§å°å†™</span><br><span class="line">skip-external-locking #MySQLé€‰é¡¹ä»¥é¿å…å¤–éƒ¨é”å®šã€‚è¯¥é€‰é¡¹é»˜è®¤å¼€å¯</span><br><span class="line">default-storage-engine = InnoDB #é»˜è®¤å­˜å‚¨å¼•æ“</span><br><span class="line">innodb_file_per_table = 1</span><br><span class="line"># InnoDBä¸ºç‹¬ç«‹è¡¨ç©ºé—´æ¨¡å¼ï¼Œæ¯ä¸ªæ•°æ®åº“çš„æ¯ä¸ªè¡¨éƒ½ä¼šç”Ÿæˆä¸€ä¸ªæ•°æ®ç©ºé—´</span><br><span class="line"># ç‹¬ç«‹è¡¨ç©ºé—´ä¼˜ç‚¹ï¼š</span><br><span class="line"># 1ï¼æ¯ä¸ªè¡¨éƒ½æœ‰è‡ªå·²ç‹¬ç«‹çš„è¡¨ç©ºé—´ã€‚</span><br><span class="line"># 2ï¼æ¯ä¸ªè¡¨çš„æ•°æ®å’Œç´¢å¼•éƒ½ä¼šå­˜åœ¨è‡ªå·²çš„è¡¨ç©ºé—´ä¸­ã€‚</span><br><span class="line"># 3ï¼å¯ä»¥å®ç°å•è¡¨åœ¨ä¸åŒçš„æ•°æ®åº“ä¸­ç§»åŠ¨ã€‚</span><br><span class="line"># 4ï¼ç©ºé—´å¯ä»¥å›æ”¶ï¼ˆé™¤drop tableæ“ä½œå¤„ï¼Œè¡¨ç©ºä¸èƒ½è‡ªå·²å›æ”¶ï¼‰</span><br><span class="line"># ç¼ºç‚¹ï¼š</span><br><span class="line"># å•è¡¨å¢åŠ è¿‡å¤§ï¼Œå¦‚è¶…è¿‡100G</span><br><span class="line"># ç»“è®ºï¼š</span><br><span class="line"># å…±äº«è¡¨ç©ºé—´åœ¨Insertæ“ä½œä¸Šå°‘æœ‰ä¼˜åŠ¿ã€‚å…¶å®ƒéƒ½æ²¡ç‹¬ç«‹è¡¨ç©ºé—´è¡¨ç°å¥½ã€‚å½“å¯ç”¨ç‹¬ç«‹è¡¨ç©ºé—´æ—¶ï¼Œè¯·åˆç†è°ƒæ•´ï¼šinnodb_open_files</span><br><span class="line">innodb_open_files = 500</span><br><span class="line"># é™åˆ¶Innodbèƒ½æ‰“å¼€çš„è¡¨çš„æ•°æ®ï¼Œå¦‚æœåº“é‡Œçš„è¡¨ç‰¹åˆ«å¤šçš„æƒ…å†µï¼Œè¯·å¢åŠ è¿™ä¸ªã€‚è¿™ä¸ªå€¼é»˜è®¤æ˜¯300</span><br><span class="line">innodb_buffer_pool_size = 64M</span><br><span class="line"># InnoDBä½¿ç”¨ä¸€ä¸ªç¼“å†²æ± æ¥ä¿å­˜ç´¢å¼•å’ŒåŸå§‹æ•°æ®, ä¸åƒMyISAM.</span><br><span class="line"># è¿™é‡Œä½ è®¾ç½®è¶Šå¤§,ä½ åœ¨å­˜å–è¡¨é‡Œé¢æ•°æ®æ—¶æ‰€éœ€è¦çš„ç£ç›˜I/Oè¶Šå°‘.</span><br><span class="line"># åœ¨ä¸€ä¸ªç‹¬ç«‹ä½¿ç”¨çš„æ•°æ®åº“æœåŠ¡å™¨ä¸Š,ä½ å¯ä»¥è®¾ç½®è¿™ä¸ªå˜é‡åˆ°æœåŠ¡å™¨ç‰©ç†å†…å­˜å¤§å°çš„80%</span><br><span class="line"># ä¸è¦è®¾ç½®è¿‡å¤§,å¦åˆ™,ç”±äºç‰©ç†å†…å­˜çš„ç«äº‰å¯èƒ½å¯¼è‡´æ“ä½œç³»ç»Ÿçš„æ¢é¡µé¢ ç°¸.</span><br><span class="line"># æ³¨æ„åœ¨32ä½ç³»ç»Ÿä¸Šä½ æ¯ä¸ªè¿›ç¨‹å¯èƒ½è¢«é™åˆ¶åœ¨ 2-3.5G ç”¨æˆ·å±‚é¢å†…å­˜é™åˆ¶,</span><br><span class="line"># æ‰€ä»¥ä¸è¦è®¾ç½®çš„å¤ªé«˜.</span><br><span class="line">innodb_write_io_threads = 4</span><br><span class="line">innodb_read_io_threads = 4</span><br><span class="line"># innodbä½¿ç”¨åå°çº¿ç¨‹å¤„ç†æ•°æ®é¡µä¸Šçš„è¯»å†™ I/O(è¾“å…¥è¾“å‡º)è¯·æ±‚,æ ¹æ®ä½ çš„ CPU æ ¸æ•°æ¥æ›´æ”¹,é»˜è®¤æ˜¯4</span><br><span class="line"># æ³¨:è¿™ä¸¤ä¸ªå‚æ•°ä¸æ”¯æŒåŠ¨æ€æ”¹å˜,éœ€è¦æŠŠè¯¥å‚æ•°åŠ å…¥åˆ°my.cnfé‡Œï¼Œä¿®æ”¹å®Œåé‡å¯MySQLæœåŠ¡,å…è®¸å€¼çš„èŒƒå›´ä» 1-64</span><br><span class="line">innodb_thread_concurrency = 0</span><br><span class="line"># é»˜è®¤è®¾ç½®ä¸º 0,è¡¨ç¤ºä¸é™åˆ¶å¹¶å‘æ•°ï¼Œè¿™é‡Œæ¨èè®¾ç½®ä¸º0ï¼Œæ›´å¥½å»å‘æŒ¥CPUå¤šæ ¸å¤„ç†èƒ½åŠ›ï¼Œæé«˜å¹¶å‘é‡</span><br><span class="line">innodb_purge_threads = 1</span><br><span class="line"># InnoDBä¸­çš„æ¸…é™¤æ“ä½œæ˜¯ä¸€ç±»å®šæœŸå›æ”¶æ— ç”¨æ•°æ®çš„æ“ä½œã€‚åœ¨ä¹‹å‰çš„å‡ ä¸ªç‰ˆæœ¬ä¸­ï¼Œæ¸…é™¤æ“ä½œæ˜¯ä¸»çº¿ç¨‹çš„ä¸€éƒ¨åˆ†ï¼Œè¿™æ„å‘³ç€è¿è¡Œæ—¶å®ƒå¯èƒ½ä¼šå µå¡å…¶å®ƒçš„æ•°æ®åº“æ“ä½œã€‚</span><br><span class="line"># ä»MySQL5.5.Xç‰ˆæœ¬å¼€å§‹ï¼Œè¯¥æ“ä½œè¿è¡Œäºç‹¬ç«‹çš„çº¿ç¨‹ä¸­,å¹¶æ”¯æŒæ›´å¤šçš„å¹¶å‘æ•°ã€‚ç”¨æˆ·å¯é€šè¿‡è®¾ç½®innodb_purge_threadsé…ç½®å‚æ•°æ¥é€‰æ‹©æ¸…é™¤æ“ä½œæ˜¯å¦ä½¿ç”¨å•</span><br><span class="line"># ç‹¬çº¿ç¨‹,é»˜è®¤æƒ…å†µä¸‹å‚æ•°è®¾ç½®ä¸º0(ä¸ä½¿ç”¨å•ç‹¬çº¿ç¨‹),è®¾ç½®ä¸º 1 æ—¶è¡¨ç¤ºä½¿ç”¨å•ç‹¬çš„æ¸…é™¤çº¿ç¨‹ã€‚å»ºè®®ä¸º1</span><br><span class="line">innodb_flush_log_at_trx_commit = 2</span><br><span class="line"># 0ï¼šå¦‚æœinnodb_flush_log_at_trx_commitçš„å€¼ä¸º0,log bufferæ¯ç§’å°±ä¼šè¢«åˆ·å†™æ—¥å¿—æ–‡ä»¶åˆ°ç£ç›˜ï¼Œæäº¤äº‹åŠ¡çš„æ—¶å€™ä¸åšä»»ä½•æ“ä½œï¼ˆæ‰§è¡Œæ˜¯ç”±mysqlçš„master threadçº¿ç¨‹æ¥æ‰§è¡Œçš„ã€‚</span><br><span class="line"># ä¸»çº¿ç¨‹ä¸­æ¯ç§’ä¼šå°†é‡åšæ—¥å¿—ç¼“å†²å†™å…¥ç£ç›˜çš„é‡åšæ—¥å¿—æ–‡ä»¶(REDO LOG)ä¸­ã€‚ä¸è®ºäº‹åŠ¡æ˜¯å¦å·²ç»æäº¤ï¼‰é»˜è®¤çš„æ—¥å¿—æ–‡ä»¶æ˜¯ib_logfile0,ib_logfile1</span><br><span class="line"># 1ï¼šå½“è®¾ä¸ºé»˜è®¤å€¼1çš„æ—¶å€™ï¼Œæ¯æ¬¡æäº¤äº‹åŠ¡çš„æ—¶å€™ï¼Œéƒ½ä¼šå°†log bufferåˆ·å†™åˆ°æ—¥å¿—ã€‚</span><br><span class="line"># 2ï¼šå¦‚æœè®¾ä¸º2,æ¯æ¬¡æäº¤äº‹åŠ¡éƒ½ä¼šå†™æ—¥å¿—ï¼Œä½†å¹¶ä¸ä¼šæ‰§è¡Œåˆ·çš„æ“ä½œã€‚æ¯ç§’å®šæ—¶ä¼šåˆ·åˆ°æ—¥å¿—æ–‡ä»¶ã€‚è¦æ³¨æ„çš„æ˜¯ï¼Œå¹¶ä¸èƒ½ä¿è¯100%æ¯ç§’ä¸€å®šéƒ½ä¼šåˆ·åˆ°ç£ç›˜ï¼Œè¿™è¦å–å†³äºè¿›ç¨‹çš„è°ƒåº¦ã€‚</span><br><span class="line"># æ¯æ¬¡äº‹åŠ¡æäº¤çš„æ—¶å€™å°†æ•°æ®å†™å…¥äº‹åŠ¡æ—¥å¿—ï¼Œè€Œè¿™é‡Œçš„å†™å…¥ä»…æ˜¯è°ƒç”¨äº†æ–‡ä»¶ç³»ç»Ÿçš„å†™å…¥æ“ä½œï¼Œè€Œæ–‡ä»¶ç³»ç»Ÿæ˜¯æœ‰ ç¼“å­˜çš„ï¼Œæ‰€ä»¥è¿™ä¸ªå†™å…¥å¹¶ä¸èƒ½ä¿è¯æ•°æ®å·²ç»å†™å…¥åˆ°ç‰©ç†ç£ç›˜</span><br><span class="line"># é»˜è®¤å€¼1æ˜¯ä¸ºäº†ä¿è¯å®Œæ•´çš„ACIDã€‚å½“ç„¶ï¼Œä½ å¯ä»¥å°†è¿™ä¸ªé…ç½®é¡¹è®¾ä¸º1ä»¥å¤–çš„å€¼æ¥æ¢å–æ›´é«˜çš„æ€§èƒ½ï¼Œä½†æ˜¯åœ¨ç³»ç»Ÿå´©æºƒçš„æ—¶å€™ï¼Œä½ å°†ä¼šä¸¢å¤±1ç§’çš„æ•°æ®ã€‚</span><br><span class="line"># è®¾ä¸º0çš„è¯ï¼Œmysqldè¿›ç¨‹å´©æºƒçš„æ—¶å€™ï¼Œå°±ä¼šä¸¢å¤±æœ€å1ç§’çš„äº‹åŠ¡ã€‚è®¾ä¸º2,åªæœ‰åœ¨æ“ä½œç³»ç»Ÿå´©æºƒæˆ–è€…æ–­ç”µçš„æ—¶å€™æ‰ä¼šä¸¢å¤±æœ€å1ç§’çš„æ•°æ®ã€‚InnoDBåœ¨åšæ¢å¤çš„æ—¶å€™ä¼šå¿½ç•¥è¿™ä¸ªå€¼ã€‚</span><br><span class="line"># æ€»ç»“</span><br><span class="line"># è®¾ä¸º1å½“ç„¶æ˜¯æœ€å®‰å…¨çš„ï¼Œä½†æ€§èƒ½é¡µæ˜¯æœ€å·®çš„ï¼ˆç›¸å¯¹å…¶ä»–ä¸¤ä¸ªå‚æ•°è€Œè¨€ï¼Œä½†ä¸æ˜¯ä¸èƒ½æ¥å—ï¼‰ã€‚å¦‚æœå¯¹æ•°æ®ä¸€è‡´æ€§å’Œå®Œæ•´æ€§è¦æ±‚ä¸é«˜ï¼Œå®Œå…¨å¯ä»¥è®¾ä¸º2ï¼Œå¦‚æœåªæœ€æ±‚æ€§èƒ½ï¼Œä¾‹å¦‚é«˜å¹¶å‘å†™çš„æ—¥å¿—æœåŠ¡å™¨ï¼Œè®¾ä¸º0æ¥è·å¾—æ›´é«˜æ€§èƒ½</span><br><span class="line">innodb_log_buffer_size = 2M</span><br><span class="line"># æ­¤å‚æ•°ç¡®å®šäº›æ—¥å¿—æ–‡ä»¶æ‰€ç”¨çš„å†…å­˜å¤§å°ï¼Œä»¥Mä¸ºå•ä½ã€‚ç¼“å†²åŒºæ›´å¤§èƒ½æé«˜æ€§èƒ½ï¼Œä½†æ„å¤–çš„æ•…éšœå°†ä¼šä¸¢å¤±æ•°æ®ã€‚MySQLå¼€å‘äººå‘˜å»ºè®®è®¾ç½®ä¸º1ï¼8Mä¹‹é—´</span><br><span class="line">innodb_log_file_size = 32M</span><br><span class="line"># æ­¤å‚æ•°ç¡®å®šæ•°æ®æ—¥å¿—æ–‡ä»¶çš„å¤§å°ï¼Œæ›´å¤§çš„è®¾ç½®å¯ä»¥æé«˜æ€§èƒ½ï¼Œä½†ä¹Ÿä¼šå¢åŠ æ¢å¤æ•…éšœæ•°æ®åº“æ‰€éœ€çš„æ—¶é—´</span><br><span class="line">innodb_log_files_in_group = 3</span><br><span class="line"># ä¸ºæé«˜æ€§èƒ½ï¼ŒMySQLå¯ä»¥ä»¥å¾ªç¯æ–¹å¼å°†æ—¥å¿—æ–‡ä»¶å†™åˆ°å¤šä¸ªæ–‡ä»¶ã€‚æ¨èè®¾ç½®ä¸º3</span><br><span class="line">innodb_max_dirty_pages_pct = 90</span><br><span class="line"># innodbä¸»çº¿ç¨‹åˆ·æ–°ç¼“å­˜æ± ä¸­çš„æ•°æ®ï¼Œä½¿è„æ•°æ®æ¯”ä¾‹å°äº90%</span><br><span class="line">innodb_lock_wait_timeout = 120 </span><br><span class="line"># InnoDBäº‹åŠ¡åœ¨è¢«å›æ»šä¹‹å‰å¯ä»¥ç­‰å¾…ä¸€ä¸ªé”å®šçš„è¶…æ—¶ç§’æ•°ã€‚InnoDBåœ¨å®ƒè‡ªå·±çš„é”å®šè¡¨ä¸­è‡ªåŠ¨æ£€æµ‹äº‹åŠ¡æ­»é”å¹¶ä¸”å›æ»šäº‹åŠ¡ã€‚InnoDBç”¨LOCK TABLESè¯­å¥æ³¨æ„åˆ°é”å®šè®¾ç½®ã€‚é»˜è®¤å€¼æ˜¯50ç§’</span><br><span class="line">bulk_insert_buffer_size = 8M</span><br><span class="line"># æ‰¹é‡æ’å…¥ç¼“å­˜å¤§å°ï¼Œ è¿™ä¸ªå‚æ•°æ˜¯é’ˆå¯¹MyISAMå­˜å‚¨å¼•æ“æ¥è¯´çš„ã€‚é€‚ç”¨äºåœ¨ä¸€æ¬¡æ€§æ’å…¥100-1000+æ¡è®°å½•æ—¶ï¼Œ æé«˜æ•ˆç‡ã€‚é»˜è®¤å€¼æ˜¯8Mã€‚å¯ä»¥é’ˆå¯¹æ•°æ®é‡çš„å¤§å°ï¼Œç¿»å€å¢åŠ ã€‚</span><br><span class="line">myisam_sort_buffer_size = 8M</span><br><span class="line"># MyISAMè®¾ç½®æ¢å¤è¡¨ä¹‹æ—¶ä½¿ç”¨çš„ç¼“å†²åŒºçš„å°ºå¯¸ï¼Œå½“åœ¨REPAIR TABLEæˆ–ç”¨CREATE INDEXåˆ›å»ºç´¢å¼•æˆ–ALTER TABLEè¿‡ç¨‹ä¸­æ’åº MyISAMç´¢å¼•åˆ†é…çš„ç¼“å†²åŒº</span><br><span class="line">myisam_max_sort_file_size = 10G</span><br><span class="line"># å¦‚æœä¸´æ—¶æ–‡ä»¶ä¼šå˜å¾—è¶…è¿‡ç´¢å¼•ï¼Œä¸è¦ä½¿ç”¨å¿«é€Ÿæ’åºç´¢å¼•æ–¹æ³•æ¥åˆ›å»ºä¸€ä¸ªç´¢å¼•ã€‚æ³¨é‡Šï¼šè¿™ä¸ªå‚æ•°ä»¥å­—èŠ‚çš„å½¢å¼ç»™å‡º</span><br><span class="line">myisam_repair_threads = 1</span><br><span class="line"># å¦‚æœè¯¥å€¼å¤§äº1ï¼Œåœ¨Repair by sortingè¿‡ç¨‹ä¸­å¹¶è¡Œåˆ›å»ºMyISAMè¡¨ç´¢å¼•(æ¯ä¸ªç´¢å¼•åœ¨è‡ªå·±çš„çº¿ç¨‹å†…)&nbsp; </span><br><span class="line">interactive_timeout = 28800</span><br><span class="line"># æœåŠ¡å™¨å…³é—­äº¤äº’å¼è¿æ¥å‰ç­‰å¾…æ´»åŠ¨çš„ç§’æ•°ã€‚äº¤äº’å¼å®¢æˆ·ç«¯å®šä¹‰ä¸ºåœ¨mysql_real_connect()ä¸­ä½¿ç”¨CLIENT_INTERACTIVEé€‰é¡¹çš„å®¢æˆ·ç«¯ã€‚é»˜è®¤å€¼ï¼š28800ç§’ï¼ˆ8å°æ—¶ï¼‰</span><br><span class="line">wait_timeout = 28800</span><br><span class="line"># æœåŠ¡å™¨å…³é—­éäº¤äº’è¿æ¥ä¹‹å‰ç­‰å¾…æ´»åŠ¨çš„ç§’æ•°ã€‚åœ¨çº¿ç¨‹å¯åŠ¨æ—¶ï¼Œæ ¹æ®å…¨å±€wait_timeoutå€¼æˆ–å…¨å±€interactive_timeoutå€¼åˆå§‹åŒ–ä¼šè¯wait_timeoutå€¼ï¼Œ</span><br><span class="line"># å–å†³äºå®¢æˆ·ç«¯ç±»å‹(ç”±mysql_real_connect()çš„è¿æ¥é€‰é¡¹CLIENT_INTERACTIVEå®šä¹‰)ã€‚å‚æ•°é»˜è®¤å€¼ï¼š28800ç§’ï¼ˆ8å°æ—¶ï¼‰</span><br><span class="line"># MySQLæœåŠ¡å™¨æ‰€æ”¯æŒçš„æœ€å¤§è¿æ¥æ•°æ˜¯æœ‰ä¸Šé™çš„ï¼Œå› ä¸ºæ¯ä¸ªè¿æ¥çš„å»ºç«‹éƒ½ä¼šæ¶ˆè€—å†…å­˜ï¼Œå› æ­¤æˆ‘ä»¬å¸Œæœ›å®¢æˆ·ç«¯åœ¨è¿æ¥åˆ°MySQL Serverå¤„ç†å®Œç›¸åº”çš„æ“ä½œåï¼Œ</span><br><span class="line"># åº”è¯¥æ–­å¼€è¿æ¥å¹¶é‡Šæ”¾å ç”¨çš„å†…å­˜ã€‚å¦‚æœä½ çš„MySQL Serveræœ‰å¤§é‡çš„é—²ç½®è¿æ¥ï¼Œä»–ä»¬ä¸ä»…ä¼šç™½ç™½æ¶ˆè€—å†…å­˜ï¼Œè€Œä¸”å¦‚æœè¿æ¥ä¸€ç›´åœ¨ç´¯åŠ è€Œä¸æ–­å¼€ï¼Œ</span><br><span class="line"># æœ€ç»ˆè‚¯å®šä¼šè¾¾åˆ°MySQL Serverçš„è¿æ¥ä¸Šé™æ•°ï¼Œè¿™ä¼šæŠ¥'too many connections'çš„é”™è¯¯ã€‚å¯¹äºwait_timeoutçš„å€¼è®¾å®šï¼Œåº”è¯¥æ ¹æ®ç³»ç»Ÿçš„è¿è¡Œæƒ…å†µæ¥åˆ¤æ–­ã€‚</span><br><span class="line"># åœ¨ç³»ç»Ÿè¿è¡Œä¸€æ®µæ—¶é—´åï¼Œå¯ä»¥é€šè¿‡show processlistå‘½ä»¤æŸ¥çœ‹å½“å‰ç³»ç»Ÿçš„è¿æ¥çŠ¶æ€ï¼Œå¦‚æœå‘ç°æœ‰å¤§é‡çš„sleepçŠ¶æ€çš„è¿æ¥è¿›ç¨‹ï¼Œåˆ™è¯´æ˜è¯¥å‚æ•°è®¾ç½®çš„è¿‡å¤§ï¼Œ</span><br><span class="line"># å¯ä»¥è¿›è¡Œé€‚å½“çš„è°ƒæ•´å°äº›ã€‚è¦åŒæ—¶è®¾ç½®interactive_timeoutå’Œwait_timeoutæ‰ä¼šç”Ÿæ•ˆã€‚</span><br><span class="line">[mysqldump]</span><br><span class="line">quick</span><br><span class="line">max_allowed_packet = 16M #æœåŠ¡å™¨å‘é€å’Œæ¥å—çš„æœ€å¤§åŒ…é•¿åº¦</span><br><span class="line">[myisamchk]</span><br><span class="line">key_buffer_size = 8M</span><br><span class="line">sort_buffer_size = 8M</span><br><span class="line">read_buffer = 4M</span><br><span class="line">write_buffer = 4M</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<h3 id="å¯åŠ¨MySQLå®¢æˆ·ç«¯"><a href="#å¯åŠ¨MySQLå®¢æˆ·ç«¯" class="headerlink" title="å¯åŠ¨MySQLå®¢æˆ·ç«¯"></a>å¯åŠ¨MySQLå®¢æˆ·ç«¯</h3><p>æˆåŠŸå¯åŠ¨MySQLæœåŠ¡åï¼Œå°±å¯ä»¥è¿è¡Œå®¢æˆ·ç«¯è¿æ¥åˆ°å¯åŠ¨çš„æœåŠ¡å™¨äº†ï¼ŒMySQLçš„binç›®å½•ä¸‹ä¹Ÿä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ç³»åˆ—çš„å®¢æˆ·ç«¯ç¨‹åº,æ¯”å¦‚ï¼š<br><code>mysqladmin</code>ã€<code>mysqldump</code>ã€<code>mysql</code>ç­‰ç­‰ï¼Œè¿™é‡Œåšä¸»å…ˆé‡ç‚¹ä»‹ç»ä¸€ä¸‹<code>mysql</code>ï¼Œé€šè¿‡è¿™ä¸ªå¯æ‰§è¡Œæ–‡ä»¶å¯ä»¥è®©æˆ‘ä»¬å’Œåˆšåˆšå¯åŠ¨çš„æ•°æ®åº“æœåŠ¡ç¨‹åºè¿›è¡Œäº¤äº’ï¼Œå¯åŠ¨è¿™ä¸ªæ–‡ä»¶æ—¶éœ€è¦ä¸€äº›å‚æ•°ï¼Œæ¯”å¦‚è¿æ¥çš„æœåŠ¡å™¨ipã€ç«¯å£ã€è´¦å·ã€å¯†ç ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -h [ipåœ°å€] -P [ç«¯å£] -u [ç”¨æˆ·å] -p[å¯†ç ]</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>æ³¨æ„ï¼šè¿™é‡Œçš„å‚æ•°<code>hã€Pã€uã€p</code>éƒ½æ˜¯çŸ­å½¢å¼çš„å‚æ•°ï¼Œå‚æ•°pä¸å€¼ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼ï¼Œå…¶ä½™å‚æ•°æ²¡æœ‰å¼ºåˆ¶è¦æ±‚ï¼Œè¿˜æœ‰è¿™é‡Œçš„å‚æ•°åŒºåˆ†å¤§å°å†™ï¼Œæ¯”å¦‚ç­”è°¢çš„Pä»£è¡¨çš„æ˜¯ç«¯å£å·è€Œå°å†™çš„pæ˜¯æŒ‡å¯†ç ã€‚</p>
</blockquote>
<p>å¦‚æœæ˜¯æœåŠ¡å™¨ç¨‹åºå’Œå®¢æˆ·ç«¯ç¨‹åºåœ¨ä¸€å°ç”µè„‘ä¸Šï¼ˆå°±åƒç°åœ¨è¿™æ ·ï¼‰ï¼Œå¯ä»¥çœç•¥æ‰éƒ¨åˆ†å‚æ•°ï¼Œå°±åƒä¸‹é¢è¿™æ ·</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u[ç”¨æˆ·å] -p[å¯†ç ]</span><br></pre></td></tr></tbody></table></figure>
<p>è€Œmysqlé»˜è®¤æœ‰ä¸€ä¸ªç”¨æˆ·åä¸º<code>root</code>çš„ç”¨æˆ·ï¼Œå¯†ç å°±æ˜¯å®‰è£…çš„æ—¶å€™è®¾ç½®çš„å¯†ç ï¼Œå¯ä»¥ä½¿ç”¨ä¸Šé¢çš„å‘½ä»¤å°è¯•å’ŒæœåŠ¡ç¨‹åºè¿›è¡Œè¿æ¥</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">lu@ludeMacBook-Pro bin % sudo ./mysql -uroot -p</span><br><span class="line">Enter password: </span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 11</span><br><span class="line">Server version: 8.0.22 MySQL Community Server - GPL</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2020, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.</span><br><span class="line"></span><br><span class="line">mysql&gt; </span><br></pre></td></tr></tbody></table></figure>
<p>è¿™é‡Œå¯ä»¥çœ‹åˆ°ï¼Œåšä¸»çš„å‘½ä»¤<code>-p</code>åé¢å¹¶æ²¡æœ‰è¾“å…¥å¯†ç ï¼Œè¿™æ˜¯mysqlä¸ºäº†é˜²æ­¢åœ¨ä½ è¾“å…¥å¯†ç çš„æ—¶å€™ï¼Œèº«è¾¹æœ‰å…¶ä»–äººè€Œä½ æ°å¥½ä¸æƒ³è®©ä»–çœ‹åˆ°ä½ çš„å¯†ç ã€‚<br>å¦‚æœæƒ³æ–­å¼€å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨çš„è¿æ¥ï¼Œå¯ä»¥åœ¨<code>mysql&gt;</code>åè¾“å…¥ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">quit</span><br><span class="line">exit</span><br><span class="line">\q</span><br></pre></td></tr></tbody></table></figure>
<p>ä¸Šé¢ä¸‰ä¸ªå‘½ä»¤å…¶ä¸­ä»»æ„ä¸€ä¸ªéƒ½å¯ä»¥æ–­å¼€å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯çš„è¿æ¥å¹¶ä¸”å…³é—­å®¢æˆ·ç«¯ï¼Œè¿™é‡Œå°è¯•è¾“å…¥<code>exit</code>:</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; exit</span><br><span class="line">Bye</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>æ³¨æ„ï¼Œè¿™é‡Œåªæ˜¯å…³é—­å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨çš„è¿æ¥ï¼Œå¹¶ä¸æ˜¯å…³é—­æœåŠ¡å™¨å“¦</p>
</blockquote>
<h3 id="å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨é€šè®¯"><a href="#å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨é€šè®¯" class="headerlink" title="å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨é€šè®¯"></a>å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨é€šè®¯</h3><p>mysqlå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„é€šè®¯åè®®æ˜¯â€œåŠåŒå·¥â€çš„ï¼Œè¿™æ„å‘³ç€ï¼Œåœ¨ä»»ä½•ä¸€ä¸ªæ—¶åˆ»ï¼Œè¦ä¹ˆç”±æœåŠ¡å™¨å‘å®¢æˆ·ç«¯å‘é€æ•°æ®ï¼Œè¦ä¹ˆç”±å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€æ•°æ®ï¼Œè¿™ä¸¤ä¸ªåŠ¨ä½œä¸èƒ½åŒæ—¶å‘ç”Ÿã€‚è¿™ç§åè®®è®©mysqlé€šä¿¡ç®€å•å¿«é€Ÿï¼Œä½†ä¹Ÿé™åˆ¶äº†mysqlã€‚ä¸€ä¸ªæ˜æ˜¾çš„é™åˆ¶æ˜¯ï¼Œè¿™æ„å‘³ç€æ²¡åŠæ³•è¿›è¡Œæµé‡é™åˆ¶ã€‚ä¸€æ—¦ä¸€ç«¯å¼€å§‹å‘ç”Ÿæ¶ˆæ¯ï¼Œå¦ä¸€ç«¯è¦æ¥æ”¶å®Œæ•´ä¸ªæ¶ˆæ¯æ‰èƒ½å“åº”ä»–ã€‚<br>å®¢æˆ·ç«¯ç”¨ä¸€ä¸ªå•ç‹¬çš„æ•°æ®åŒ…å°†æŸ¥è¯¢ä¼ ç»™æœåŠ¡å™¨ã€‚ä¸€æ—¦å®¢æˆ·ç«¯å‘é€äº†è¯·æ±‚ï¼Œä»–èƒ½åšçš„äº‹æƒ…å°±åªæ˜¯ç­‰å¾…ç»“æœäº†ã€‚<br>ç›¸åçš„ï¼Œä¸€èˆ¬æœåŠ¡å™¨å“åº”ç»™ç”¨æˆ·çš„æ•°æ®é€šå¸¸å¾ˆå¤šï¼Œç”±å¤šä¸ªæ•°æ®åŒ…ç»„æˆã€‚å½“æœåŠ¡å™¨å¼€å§‹å“åº”å®¢æˆ·ç«¯è¯·æ±‚æ—¶ï¼Œå®¢æˆ·ç«¯å¿…é¡»å®Œæ•´çš„æ¥å—æ•´ä¸ªè¿”å›ç»“æœï¼Œè€Œä¸æ˜¯ç®€å•çš„åªæ”¶å–å‰é¢å‡ æ¡ç»“æœï¼Œç„¶åè®©æœåŠ¡å™¨åœæ­¢å‘é€æ•°æ®ã€‚<br>å¤šæ•°è¿æ¥mysqlçš„åº“å‡½æ•°éƒ½å¯ä»¥è·å¾—å…¨éƒ¨ç»“æœå¹¶ç¼“å­˜åˆ°å†…å­˜é‡Œï¼Œè¿˜å¯ä»¥é€è¡Œè·å–æ‰€éœ€è¦çš„æ•°æ®ã€‚é»˜è®¤ä¸€èˆ¬æ˜¯è·å¾—å…¨éƒ¨ç»“æœå¹¶ç¼“å­˜åˆ°å†…å­˜ä¸­ã€‚mysqlé€šå¸¸éœ€è¦ç­‰æ‰€æœ‰çš„æ•°æ®éƒ½å·²ç»å‘é€ç»™å®¢æˆ·ç«¯æ‰èƒ½é‡Šæ”¾è¿™æ¡æŸ¥è¯¢æ‰€å ç”¨çš„èµ„æºï¼Œæ‰€ä»¥æ¥å—å…¨éƒ¨ç»“æœå¹¶ç¼“å­˜é€šå¸¸å¯ä»¥å‡å°‘æœåŠ¡å™¨çš„å‹åŠ›ï¼Œè®©æŸ¥è¯¢èƒ½å¤Ÿæ—©ç‚¹ç»“æŸã€æ—©ç‚¹é‡Šæ”¾å¯¹åº”çš„èµ„æºã€‚</p>
<h3 id="æœåŠ¡å™¨å¤„ç†å®¢æˆ·ç«¯çš„æµç¨‹"><a href="#æœåŠ¡å™¨å¤„ç†å®¢æˆ·ç«¯çš„æµç¨‹" class="headerlink" title="æœåŠ¡å™¨å¤„ç†å®¢æˆ·ç«¯çš„æµç¨‹"></a>æœåŠ¡å™¨å¤„ç†å®¢æˆ·ç«¯çš„æµç¨‹</h3><p>åœ¨æ—¥å¸¸æ‰§è¡Œmysqlè¯­å¥çš„è¿‡ç¨‹ä¸­,éƒ½æ˜¯å®¢æˆ·ç«¯è¿›ç¨‹å‘æœåŠ¡å™¨è¿›ç¨‹å‘é€ä¸€æ®µæ–‡æœ¬(MySQLè¯­å¥),æœåŠ¡å™¨è¿›ç¨‹å¤„ç†åå†å‘å®¢æˆ·ç«¯è¿›ç¨‹å‘é€ä¸€æ®µæ–‡æœ¬(å¤„ç†ç»“æœ). çœ‹ä¼¼å¾ˆç®€å•,å…¶å®ä¸ç„¶,è¿™å†…å®¹æœ‰å¾ˆå¤šä¸œè¥¿æ˜¯éœ€è¦æ³¨æ„çš„.ä¸‹é¢ç”¨ä¸€å¼ å›¾æ¥è¯´æ˜.<br><img src="http://files.codedog.link/blog/typecho/mysql%E5%9B%BE%E4%BE%8B.jpg"><br>ç”¨æ–‡å­—è¯´æ˜ä¸€ä¸‹ä¸Šé¢å›¾ç‰‡ä¸­çš„å†…å®¹ï¼š</p>
<ul>
<li>å®¢æˆ·ç«¯å‘é€ä¸€æ¡æŸ¥è¯¢ç»™æœåŠ¡å™¨</li>
<li>æœåŠ¡å™¨å…ˆåˆ°æŸ¥è¯¢ç¼“å­˜ä¸­æŸ¥è¯¢ï¼Œå¦‚æœå‘½ä¸­äº†ç¼“å­˜ï¼Œåˆ™ç«‹åˆ»è¿”å›å­˜å‚¨åœ¨ç¼“å­˜ä¸­çš„ç»“æœï¼Œå¦åˆ™ç»§ç»­å¾€ä¸‹æ‰§è¡Œ</li>
<li>æœåŠ¡å™¨å¯¹sqlè¿›è¡Œè§£æã€é¢„å¤„ç†ã€åœ¨ä¼˜åŒ–å™¨ç”Ÿå­˜å¯¹åº”çš„æ‰§è¡Œè®¡åˆ’</li>
<li>æ‰§è¡Œå¼•æ“æ ¹æ®ç”Ÿæˆçš„æ‰§è¡Œè®¡åˆ’è°ƒç”¨å­˜å‚¨å¼•æ“æ¥æ‰§è¡ŒæŸ¥è¯¢</li>
<li>å°†ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯</li>
</ul>
<h3 id="å­˜å‚¨å¼•æ“"><a href="#å­˜å‚¨å¼•æ“" class="headerlink" title="å­˜å‚¨å¼•æ“"></a>å­˜å‚¨å¼•æ“</h3><p>æ•°æ®åº“å­˜å‚¨å¼•æ“æ˜¯æ•°æ®åº“åº•å±‚è½¯ä»¶æ¨¡å—ï¼Œå®ƒæä¾›åˆ›å»ºã€æŸ¥è¯¢ã€æ›´æ–°å’Œåˆ é™¤ç­‰æ“ä½œï¼Œä¸åŒçš„å­˜å‚¨å¼•æ“æä¾›ä¸åŒçš„å­˜å‚¨æœºåˆ¶ï¼Œæ‰€é‡‡ç”¨çš„å­˜å–ç®—æ³•ä¹Ÿå¯èƒ½ä¸åŒã€‚è€Œä½¿ç”¨ä¸åŒçš„å­˜å‚¨å¼•æ“è¿˜å¯ä»¥è·å¾—ç‰¹å®šçš„åŠŸèƒ½ã€‚åœ¨å®¢æˆ·ç«¯ä¸­å¯ä»¥ä½¿ç”¨<code>show engines</code>æ¥æŸ¥çœ‹mysqlæ”¯æŒçš„æ‰€æœ‰å­˜å‚¨å¼•æ“</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show engines;</span><br><span class="line">+--------------------+---------+----------------------------------------------------------------+--------------+------+------------+</span><br><span class="line">| Engine             | Support | Comment                                                        | Transactions | XA   | Savepoints |</span><br><span class="line">+--------------------+---------+----------------------------------------------------------------+--------------+------+------------+</span><br><span class="line">| ARCHIVE            | YES     | Archive storage engine                                         | NO           | NO   | NO         |</span><br><span class="line">| BLACKHOLE          | YES     | /dev/null storage engine (anything you write to it disappears) | NO           | NO   | NO         |</span><br><span class="line">| MRG_MYISAM         | YES     | Collection of identical MyISAM tables                          | NO           | NO   | NO         |</span><br><span class="line">| FEDERATED          | NO      | Federated MySQL storage engine                                 | NULL         | NULL | NULL       |</span><br><span class="line">| MyISAM             | YES     | MyISAM storage engine                                          | NO           | NO   | NO         |</span><br><span class="line">| PERFORMANCE_SCHEMA | YES     | Performance Schema                                             | NO           | NO   | NO         |</span><br><span class="line">| InnoDB             | DEFAULT | Supports transactions, row-level locking, and foreign keys     | YES          | YES  | YES        |</span><br><span class="line">| MEMORY             | YES     | Hash based, stored in memory, useful for temporary tables      | NO           | NO   | NO         |</span><br><span class="line">| CSV                | YES     | CSV storage engine                                             | NO           | NO   | NO         |</span><br><span class="line">+--------------------+---------+----------------------------------------------------------------+--------------+------+------------+</span><br><span class="line">9 rows in set (0.00 sec)</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>Support åˆ—çš„å€¼è¡¨ç¤ºæŸç§å¼•æ“æ˜¯å¦èƒ½ä½¿ç”¨ï¼ŒYESè¡¨ç¤ºå¯ä»¥ä½¿ç”¨ï¼ŒNOè¡¨ç¤ºä¸èƒ½ä½¿ç”¨ï¼ŒDEFAULTè¡¨ç¤ºè¯¥å¼•æ“ä¸ºå½“å‰é»˜è®¤çš„å­˜å‚¨å¼•æ“ã€‚</p>
</blockquote>
<h3 id="å¦‚ä½•é€‰æ‹©å­˜å‚¨å¼•æ“"><a href="#å¦‚ä½•é€‰æ‹©å­˜å‚¨å¼•æ“" class="headerlink" title="å¦‚ä½•é€‰æ‹©å­˜å‚¨å¼•æ“"></a>å¦‚ä½•é€‰æ‹©å­˜å‚¨å¼•æ“</h3><p>ä¸åŒçš„å­˜å‚¨å¼•æ“éƒ½æœ‰å„è‡ªçš„ç‰¹ç‚¹ï¼Œä»¥é€‚åº”ä¸åŒçš„éœ€æ±‚ã€‚å¦‚è¡¨æ‰€ç¤ºï¼š</p>
<table>
<thead>
<tr>
<th>åŠŸèƒ½</th>
<th>MylSAM</th>
<th>MEMORY</th>
<th>InnoDB</th>
<th>Archive</th>
</tr>
</thead>
<tbody><tr>
<td>å­˜å‚¨é™åˆ¶</td>
<td>256TB</td>
<td>RAM</td>
<td>64TB</td>
<td>None</td>
</tr>
<tr>
<td>æ”¯æŒäº‹åŠ¡</td>
<td>No</td>
<td>No</td>
<td>Yes</td>
<td>No</td>
</tr>
<tr>
<td>æ”¯æŒå…¨æ–‡ç´¢å¼•</td>
<td>Yes</td>
<td>No</td>
<td>No</td>
<td>No</td>
</tr>
<tr>
<td>æ”¯æŒæ ‘ç´¢å¼•</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
<td>No</td>
</tr>
<tr>
<td>æ”¯æŒå“ˆå¸Œç´¢å¼•</td>
<td>No</td>
<td>Yes</td>
<td>No</td>
<td>No</td>
</tr>
<tr>
<td>æ”¯æŒæ•°æ®ç¼“å­˜</td>
<td>No</td>
<td>N/A</td>
<td>Yes</td>
<td>No</td>
</tr>
<tr>
<td>æ”¯æŒå¤–é”®</td>
<td>No</td>
<td>No</td>
<td>Yes</td>
<td>No</td>
</tr>
</tbody></table>
<p>ä¸è¿‡å®é™…ä¸Šå¸¸ç”¨çš„å­˜å‚¨å¼•æ“ä¹Ÿå°±ä¸¤ä¸‰ç§ï¼Œè¿™é‡Œç»™å¤§å®¶ä»‹ç»ä¸€ä¸‹</p>
<h4 id="InnoDB"><a href="#InnoDB" class="headerlink" title="InnoDB"></a>InnoDB</h4><p>æ”¯æŒäº‹åŠ¡å¤„ç†ï¼Œæ”¯æŒå¤–é”®ï¼Œæ”¯æŒå´©æºƒä¿®å¤èƒ½åŠ›å’Œå¹¶å‘æ§åˆ¶ã€‚å¦‚æœéœ€è¦å¯¹äº‹åŠ¡çš„å®Œæ•´æ€§è¦æ±‚æ¯”è¾ƒé«˜ï¼ˆæ¯”å¦‚é“¶è¡Œï¼‰ï¼Œè¦æ±‚å®ç°å¹¶å‘æ§åˆ¶ï¼ˆæ¯”å¦‚å”®ç¥¨ï¼‰ï¼Œé‚£é€‰æ‹©InnoDBæœ‰å¾ˆå¤§çš„ä¼˜åŠ¿ã€‚å¦‚æœéœ€è¦é¢‘ç¹çš„æ›´æ–°ã€åˆ é™¤æ“ä½œçš„æ•°æ®åº“ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©InnoDBï¼Œå› ä¸ºæ”¯æŒäº‹åŠ¡çš„æäº¤ï¼ˆcommitï¼‰å’Œå›æ»šï¼ˆrollbackï¼‰ã€‚</p>
<h4 id="MyISAM"><a href="#MyISAM" class="headerlink" title="MyISAM"></a>MyISAM</h4><p>æ’å…¥æ•°æ®å¿«ï¼Œç©ºé—´å’Œå†…å­˜ä½¿ç”¨æ¯”è¾ƒä½ã€‚å¦‚æœè¡¨ä¸»è¦æ˜¯ç”¨äºæ’å…¥æ–°è®°å½•å’Œè¯»å‡ºè®°å½•ï¼Œé‚£ä¹ˆé€‰æ‹©MyISAMèƒ½å®ç°å¤„ç†é«˜æ•ˆç‡ã€‚å¦‚æœåº”ç”¨çš„å®Œæ•´æ€§ã€å¹¶å‘æ€§è¦æ±‚æ¯”è¾ƒä½ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ã€‚</p>
<h4 id="MEMORY"><a href="#MEMORY" class="headerlink" title="MEMORY"></a>MEMORY</h4><p>æ‰€æœ‰çš„æ•°æ®éƒ½åœ¨å†…å­˜ä¸­ï¼Œæ•°æ®çš„å¤„ç†é€Ÿåº¦å¿«ï¼Œä½†æ˜¯å®‰å…¨æ€§ä¸é«˜ã€‚å¦‚æœéœ€è¦å¾ˆå¿«çš„è¯»å†™é€Ÿåº¦ï¼Œå¯¹æ•°æ®çš„å®‰å…¨æ€§è¦æ±‚è¾ƒä½ï¼Œå¯ä»¥é€‰æ‹©MEMOEYã€‚å®ƒå¯¹è¡¨çš„å¤§å°æœ‰è¦æ±‚ï¼Œä¸èƒ½å»ºç«‹å¤ªå¤§çš„è¡¨ã€‚æ‰€ä»¥ï¼Œè¿™ç±»æ•°æ®åº“åªä½¿ç”¨åœ¨ç›¸å¯¹è¾ƒå°çš„æ•°æ®åº“è¡¨ã€‚</p>
<blockquote>
<p>å§å•¦å§å•¦äº†ä¸€é€šï¼Œè‡ªå·±çœ‹ç€å…¶å®ä¹Ÿå¾ˆå¤´ç—›ï¼Œå¤§éƒ¨åˆ†çš„å†…å®¹å…¶å®æ²¡æœ‰å¿…è¦éƒ½è®°ä½ï¼Œåªæ˜¯è®©å¤§å®¶åšä¸ªäº†è§£ï¼Œå¦‚æœæœ‰å…´è¶£çš„è¯ï¼Œå¯ä»¥è‡ªå·±å†ç™¾åº¦æ‰¾ç¯‡åšå®¢æ·±å…¥äº†è§£ä¸‹</p>
</blockquote>
<h3 id="è®¾ç½®å’Œä¿®æ”¹å­˜å‚¨å¼•æ“çš„æ–¹æ³•"><a href="#è®¾ç½®å’Œä¿®æ”¹å­˜å‚¨å¼•æ“çš„æ–¹æ³•" class="headerlink" title="è®¾ç½®å’Œä¿®æ”¹å­˜å‚¨å¼•æ“çš„æ–¹æ³•"></a>è®¾ç½®å’Œä¿®æ”¹å­˜å‚¨å¼•æ“çš„æ–¹æ³•</h3><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># åˆ›å»ºè¡¨æ—¶è®¾å®š</span><br><span class="line">CREATE TABLE [è¡¨å] (id int, .....) ENGINE = [å­˜å‚¨å¼•æ“]</span><br><span class="line"># ä¿®æ”¹</span><br><span class="line">ALTER TABLE [è¡¨å] ENGINE = [å­˜å‚¨å¼•æ“];</span><br></pre></td></tr></tbody></table></figure>

<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>å¥½å•¦ï¼Œåˆ°è¿™é‡Œæœ¬ç¯‡åšå®¢å°±ç»“æŸäº†ï¼Œè¿™ç¯‡åšå®¢æˆ‘ä¹Ÿå†™äº†ä¸¤ä¸‰å¤©ï¼Œä¸­é—´æŸ¥èµ„æ–™ï¼Œä¿®ä¿®æ”¹æ”¹ï¼Œè¿˜ç»™ç¬”è®°æœ¬è£…äº†ä¸ªé»‘è‹¹æœğŸ˜‚ç¬¬ä¸€æ¬¡ä¸€ä¸ªç³»åˆ—å»å†™æ–‡ç« ï¼Œå’Œå¹³æ—¶çš„æ„Ÿè§‰å®Œå…¨æ˜¯ä¸¤æ ·ï¼Œä¸­é—´éœ€è¦æŸ¥è¯¢çš„èµ„æ–™å¾ˆå¤šï¼Œå½“ç„¶å¯¹æˆ‘çš„æå‡ä¹Ÿæ˜¯å¾ˆå¤§çš„ï¼Œä¸‹é¢ä¸€ç« ä¼°è®¡ä¹Ÿä¼šå†™ä¸ªå‡ å¤©ï¼Œæ…¢æ…¢æ¥å§ï¼ŒåŠ æ²¹ï¼ï¼ï¼</p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/MySQL/" rel="tag"># MySQL</a>
              <a href="/tags/%E9%87%8D%E5%AD%A6MySQL/" rel="tag"># é‡å­¦MySQL</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2020/11/16/MySQL/%E9%87%8D%E5%AD%A6MySQL/%E4%B8%8B%E8%BD%BD%E5%B9%B6%E5%AE%89%E8%A3%85MySQL/%E4%B8%8B%E8%BD%BD%E5%B9%B6%E5%AE%89%E8%A3%85MySQL-%E4%B8%8B/" rel="prev" title="ã€Šé‡å­¦MySQLã€‹ä¸‹è½½å¹¶å®‰è£…MySQL(ä¸‹)">
                  <i class="fa fa-chevron-left"></i> ã€Šé‡å­¦MySQLã€‹ä¸‹è½½å¹¶å®‰è£…MySQL(ä¸‹)
                </a>
            </div>
            <div class="post-nav-item">
            </div>
          </div>
    </footer>
  </article>
</div>






      

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

    </div>
  </main>

  <footer class="footer">
    <div class="footer-inner">
      

      

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">æ´›é˜³åŸä¸Šçœ‹æ´›é˜³</span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/mist/" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a> å¼ºåŠ›é©±åŠ¨
  </div>

    </div>
  </footer>

  
  <script src="//cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  




  <script src="/js/local-search.js"></script>















  








  

  

</body>
</html>
